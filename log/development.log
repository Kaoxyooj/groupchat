  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20170327192910)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "username" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170327192910"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateChatrooms (20170327193006)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "chatrooms" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170327193006"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateChatroomUsers (20170327193048)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "chatroom_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "chatroom_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_chatroom_users_on_chatroom_id" ON "chatroom_users" ("chatroom_id")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chatroom_users_on_chatroom_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chatroom_users_on_chatroom_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_chatroom_users_on_user_id" ON "chatroom_users" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170327193048"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateMessages (20170327193312)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "chatroom_id" integer, "user_id" integer, "body" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_chatroom_id" ON "messages" ("chatroom_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_chatroom_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_chatroom_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170327193312"]]
  [1m[35m (5.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-03-27 19:33:39 UTC], ["updated_at", 2017-03-27 19:33:39 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chatroom_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chatroom_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chatroom_users_on_chatroom_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chatroom_users_on_chatroom_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_chatroom_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_chatroom_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-03-27 14:42:20 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (12.0ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (17.4ms)
Completed 200 OK in 4963ms (Views: 4922.8ms | ActiveRecord: 12.3ms)


Started GET "/users/sign_up" for ::1 at 2017-03-27 14:42:46 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (57.3ms)
Completed 200 OK in 137ms (Views: 112.6ms | ActiveRecord: 0.8ms)


Started POST "/users" for ::1 at 2017-03-27 14:42:57 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"q9kXjCH+rvPwvxHcz+2rFDUx9PSSKpbW8LBBA0nnD7KQm9GxUSwvKsdlcOJZZDue/EWyXZfVHvZNVQU0IaBgGw==", "user"=>{"email"=>"kaoxyooj@icloud.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (8.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kaoxyooj@icloud.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "kaoxyooj@icloud.com"], ["encrypted_password", "$2a$11$uk/tie7QaezSWsdwueyirOgizxOTPlbyYA1gkwxVA8cAH4ZCiNa4e"], ["created_at", 2017-03-27 19:42:57 UTC], ["updated_at", 2017-03-27 19:42:57 UTC]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-03-27 19:42:57 UTC], ["last_sign_in_at", 2017-03-27 19:42:57 UTC], ["current_sign_in_ip", "::1"], ["last_sign_in_ip", "::1"], ["updated_at", 2017-03-27 19:42:57 UTC], ["id", 1]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 244ms (ActiveRecord: 12.2ms)


Started GET "/" for ::1 at 2017-03-27 14:42:57 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (3.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 500 Internal Server Error in 106ms (ActiveRecord: 1.7ms)


  
ActionView::Template::Error (undefined method `public_channels' for #<ActiveRecord::Associations::CollectionProxy []>
Did you mean?  public_send):
    56:           <% if user_signed_in? %>
    57:             <h5>Chatrooms</h5>
    58:             <ul>
    59:               <% current_user.chatrooms.public_channels.each do |chatroom| %>
    60:                 <li><%= link_to chatroom.name, chatroom, data: {behavior: "chatroom-link", chatroom_id: chatroom.id} %></li>
    61:               <% end %>
    62:             </ul>
  
app/views/layouts/application.html.erb:59:in `_app_views_layouts_application_html_erb__3882459812992362128_70343541001500'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.3ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (75.8ms)
Started POST "/users" for ::1 at 2017-03-27 14:43:31 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"c19R9ICZ/ANYvLbeyw2J8WmIZ+rLrWuPo6E6f1nk/RBZLzEocWqQyJZDRYdKj1QsWpfyh6ukolBAQj8zqFWsXA==", "user"=>{"email"=>"kaoxyooj@icloud.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)


Started GET "/" for ::1 at 2017-03-27 14:43:31 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 500 Internal Server Error in 59ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `public_channels' for #<ActiveRecord::Associations::CollectionProxy []>
Did you mean?  public_send):
    56:           <% if user_signed_in? %>
    57:             <h5>Chatrooms</h5>
    58:             <ul>
    59:               <% current_user.chatrooms.public_channels.each do |chatroom| %>
    60:                 <li><%= link_to chatroom.name, chatroom, data: {behavior: "chatroom-link", chatroom_id: chatroom.id} %></li>
    61:               <% end %>
    62:             </ul>
  
app/views/layouts/application.html.erb:59:in `_app_views_layouts_application_html_erb__3882459812992362128_70343552570400'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.7ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (64.1ms)
Started GET "/" for ::1 at 2017-03-27 14:44:22 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (3.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 500 Internal Server Error in 50ms (ActiveRecord: 0.9ms)


  
ActionView::Template::Error (undefined method `public_channels' for #<ActiveRecord::Associations::CollectionProxy []>
Did you mean?  public_send):
    56:           <% if user_signed_in? %>
    57:             <h5>Chatrooms</h5>
    58:             <ul>
    59:               <% current_user.chatrooms.public_channels.each do |chatroom| %>
    60:                 <li><%= link_to chatroom.name, chatroom, data: {behavior: "chatroom-link", chatroom_id: chatroom.id} %></li>
    61:               <% end %>
    62:             </ul>
  
app/views/layouts/application.html.erb:59:in `_app_views_layouts_application_html_erb__3882459812992362128_70343517587200'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.5ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (68.2ms)
Started GET "/" for ::1 at 2017-03-27 14:45:46 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (no method name given):
    56:           <% if user_signed_in? %>
    57:             <h5>Chatrooms</h5>
    58:             <ul>
    59:               <% current_user.chatrooms.public_send.each do |chatroom| %>
    60:                 <li><%= link_to chatroom.name, chatroom, data: {behavior: "chatroom-link", chatroom_id: chatroom.id} %></li>
    61:               <% end %>
    62:             </ul>
  
app/views/layouts/application.html.erb:59:in `public_send'
app/views/layouts/application.html.erb:59:in `_app_views_layouts_application_html_erb__3882459812992362128_70343518719380'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (61.4ms)
Started GET "/" for ::1 at 2017-03-27 14:46:39 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 41ms (Views: 36.1ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2017-03-27 14:46:43 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 46ms (Views: 41.0ms | ActiveRecord: 0.8ms)


Started GET "/" for ::1 at 2017-03-27 14:47:09 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 64ms (Views: 54.7ms | ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2017-03-27 14:47:11 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 42ms (Views: 38.6ms | ActiveRecord: 0.6ms)


Started GET "/logout" for ::1 at 2017-03-27 14:47:14 -0500
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [24 times] (8.7ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.7ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (92.8ms)
Started GET "/logout" for ::1 at 2017-03-27 14:47:15 -0500
  
ActionController::RoutingError (No route matches [GET] "/logout"):
  
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [24 times] (8.9ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.2ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (84.6ms)
Started GET "/" for ::1 at 2017-03-27 14:47:19 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 30ms (Views: 27.5ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2017-03-27 14:48:30 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 245ms (Views: 242.8ms | ActiveRecord: 0.7ms)


Started GET "/users/edit" for ::1 at 2017-03-27 14:48:34 -0500
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (5.2ms)
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 101ms (Views: 98.4ms | ActiveRecord: 0.6ms)


Started DELETE "/users/sign_out" for ::1 at 2017-03-27 14:48:48 -0500
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"WxJS8VBlfTCDGPFw5wUhqApUwIkSbATVze056X9dXJBxYjItoZYR+03nAilmh/x1OUtV5HJlzQouDjyljuwN3A=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-03-27 14:48:48 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 50ms (Views: 47.9ms | ActiveRecord: 0.4ms)


Started GET "/users/sign_in" for ::1 at 2017-03-27 14:48:51 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (8.7ms)
Completed 200 OK in 99ms (Views: 96.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2017-03-27 14:48:57 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QUhrmIgGsXTXzA4MrtEeiuBGBbE+cPe5BJrIY1s1Rh0mXpxHJHCdAFpFvc7R78IHLz51JGsP1Uwesg7L2I74CQ==", "user"=>{"email"=>"kaoxyooj@icloud.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "kaoxyooj@icloud.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", 2017-03-27 19:48:57 UTC], ["sign_in_count", 2], ["updated_at", 2017-03-27 19:48:57 UTC], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 199ms (ActiveRecord: 2.1ms)


Started GET "/" for ::1 at 2017-03-27 14:48:57 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 56ms (Views: 52.2ms | ActiveRecord: 1.1ms)


Started GET "/" for ::1 at 2017-03-27 14:53:03 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (5.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 513ms (Views: 484.0ms | ActiveRecord: 2.3ms)


Started GET "/users/edit" for ::1 at 2017-03-27 14:53:06 -0500
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (49.5ms)
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 200 OK in 118ms (Views: 115.7ms | ActiveRecord: 1.1ms)


Started DELETE "/users/sign_out" for ::1 at 2017-03-27 14:59:32 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Lt72/SId5t5tTU+POji53IzTMP1BWhz+ZMvbSpesQC6WzRpY4ayB+kjwA1r5EITYv1sexVmWtQik8g+9KAmQ3w=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.7ms)


  
ArgumentError (unknown keyword: key):
  
app/controllers/application_controller.rb:9:in `configure_permitted_parameters'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (61.8ms)
Started DELETE "/users/sign_out" for ::1 at 2017-03-27 14:59:52 -0500
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Lt72/SId5t5tTU+POji53IzTMP1BWhz+ZMvbSpesQC6WzRpY4ayB+kjwA1r5EITYv1sexVmWtQik8g+9KAmQ3w=="}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 1.3ms)


Started GET "/" for ::1 at 2017-03-27 14:59:52 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 359ms (Views: 352.7ms | ActiveRecord: 0.5ms)


Started GET "/users/sign_up" for ::1 at 2017-03-27 14:59:56 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (15.1ms)
Completed 200 OK in 66ms (Views: 64.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2017-03-27 15:00:13 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dwPN9hHDjiHub/4Fg4M826rc32xooEJqm6wsfuWKMwUlU3KHAFHPTdvz8bufUndxozXfWrzQk7Jj6HhtyH2L5Q==", "user"=>{"username"=>"rus7y", "email"=>"kaoxyooj@icloud.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kaoxyooj@icloud.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.8ms)
  Rendered devise/registrations/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 240ms (Views: 65.9ms | ActiveRecord: 0.3ms)


Started POST "/users" for ::1 at 2017-03-27 15:00:23 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WfR++mkWiMLTFA31QxAf+kKf3wkosdIqAsV4/Qj7GU0oN2xA2LpyRUnchOcIAJ5UkDWQ7XRW+MYLK5NTrvRttA==", "user"=>{"username"=>"rus7y", "email"=>"kaoxyoojj@icloud.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kaoxyoojj@icloud.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "kaoxyoojj@icloud.com"], ["encrypted_password", "$2a$11$PhCJhR2nlrXcg/LEbX0pieRmDqwTPk3zCBn/MBECA.6akgdRj1A.O"], ["username", "rus7y"], ["created_at", 2017-03-27 20:00:23 UTC], ["updated_at", 2017-03-27 20:00:23 UTC]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-03-27 20:00:23 UTC], ["last_sign_in_at", 2017-03-27 20:00:23 UTC], ["current_sign_in_ip", "::1"], ["last_sign_in_ip", "::1"], ["updated_at", 2017-03-27 20:00:23 UTC], ["id", 2]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 165ms (ActiveRecord: 4.6ms)


Started GET "/" for ::1 at 2017-03-27 15:00:23 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 500 Internal Server Error in 206ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `direct_message_path' for #<#<Class:0x007f8b31dac168>:0x007f8b32672540>):
    64:             <h5>Users</h5>
    65:             <ul>
    66:               <% (User.all - [current_user]).each do |user| %>
    67:                 <li><%= link_to user.username, direct_message_path(user.id), data: {behavior: "chatroom-link", chatroom_id: Chatroom.direct_message_for_users([current_user, user]).id } %></li>
    68:               <% end %>
    69:             </ul>
    70:           <% end %>
  
app/views/layouts/application.html.erb:67:in `block in _app_views_layouts_application_html_erb__4546700712505022570_70117962550600'
app/views/layouts/application.html.erb:66:in `each'
app/views/layouts/application.html.erb:66:in `_app_views_layouts_application_html_erb__4546700712505022570_70117962550600'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.0ms)
Started GET "/" for ::1 at 2017-03-27 15:02:30 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Completed 500 Internal Server Error in 293ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `direct_message_path' for #<#<Class:0x007f8b31dac168>:0x007f8b35ce54d8>):
    64:            <!--  <h5>Users</h5>
    65:             <ul>
    66:               <% (User.all - [current_user]).each do |user| %>
    67:                 <li><%= link_to user.username, direct_message_path(user.id), data: {behavior: "chatroom-link", chatroom_id: Chatroom.direct_message_for_users([current_user, user]).id } %></li>
    68:               <% end %>
    69:             </ul> -->
    70:           <% end %>
  
app/views/layouts/application.html.erb:67:in `block in _app_views_layouts_application_html_erb__4546700712505022570_70117939929840'
app/views/layouts/application.html.erb:66:in `each'
app/views/layouts/application.html.erb:66:in `_app_views_layouts_application_html_erb__4546700712505022570_70117939929840'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.4ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (55.7ms)
Started GET "/" for ::1 at 2017-03-27 15:02:40 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 48ms (Views: 46.0ms | ActiveRecord: 0.5ms)


Started GET "/" for ::1 at 2017-03-27 15:07:15 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.7ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 2161ms (Views: 2142.3ms | ActiveRecord: 3.1ms)


Started GET "/chatrooms/new" for ::1 at 2017-03-27 15:07:17 -0500
Processing by ChatroomsController#new as HTML
  Rendering chatrooms/new.html.erb within layouts/application
  Rendered chatrooms/_form.html.erb (32.1ms)
  Rendered chatrooms/new.html.erb within layouts/application (44.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 184ms (Views: 160.0ms | ActiveRecord: 0.3ms)


Started GET "/chatrooms/new" for ::1 at 2017-03-27 15:07:18 -0500
Processing by ChatroomsController#new as HTML
  Rendering chatrooms/new.html.erb within layouts/application
  Rendered chatrooms/_form.html.erb (2.7ms)
  Rendered chatrooms/new.html.erb within layouts/application (6.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 90ms (Views: 84.7ms | ActiveRecord: 0.4ms)


Started POST "/chatrooms" for ::1 at 2017-03-27 15:07:25 -0500
Processing by ChatroomsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"en4I/JJr3n/0oXymQK8fqmiRpz4Qa0mt0CHG+4zLacJSzNwvcbxqESkvbTsUAPoXiepP4Q83DcH6OQRV8K76LA==", "chatroom"=>{"name"=>"general"}, "commit"=>"Create Chatroom"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chatrooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "general"], ["created_at", 2017-03-27 20:07:25 UTC], ["updated_at", 2017-03-27 20:07:25 UTC]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/1
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:07:25 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 81ms (Views: 75.2ms | ActiveRecord: 0.7ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:07:26 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 92ms (Views: 85.6ms | ActiveRecord: 0.7ms)


Started GET "/chatrooms/new" for ::1 at 2017-03-27 15:07:28 -0500
Processing by ChatroomsController#new as HTML
  Rendering chatrooms/new.html.erb within layouts/application
  Rendered chatrooms/_form.html.erb (3.0ms)
  Rendered chatrooms/new.html.erb within layouts/application (6.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 71ms (Views: 66.3ms | ActiveRecord: 0.6ms)


Started POST "/chatrooms" for ::1 at 2017-03-27 15:07:31 -0500
Processing by ChatroomsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bRT4Xcf6mWrVol5Na2586GzLce4+bPEzxgPP0bw2NehFpiyOJC0tBAgsT9A/wZlVjbCZMSEwtV/sGw1/wFOmBg==", "chatroom"=>{"name"=>"random"}, "commit"=>"Create Chatroom"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chatrooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "random"], ["created_at", 2017-03-27 20:07:31 UTC], ["updated_at", 2017-03-27 20:07:31 UTC]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/2
Completed 302 Found in 7ms (ActiveRecord: 2.4ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:07:31 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 68ms (Views: 65.0ms | ActiveRecord: 0.8ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:07:33 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (5.3ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 96ms (Views: 90.3ms | ActiveRecord: 2.0ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:17:08 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.6ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (9.2ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 102ms (Views: 90.3ms | ActiveRecord: 4.0ms)


Started POST "/chatrooms/1/chatroom_users" for ::1 at 2017-03-27 15:17:17 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"j874ZVc4J6ycTLuSFhSkLrmOFV1WGDxnlhOrJtK27LX+Derf5pTdKwaEMoBdBCWAayRauQr/Fouf/UCIdLmYTA==", "chatroom_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.1ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 1], ["user_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 2], ["created_at", 2017-03-27 20:17:17 UTC], ["updated_at", 2017-03-27 20:17:17 UTC]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/1
Completed 302 Found in 84ms (ActiveRecord: 3.2ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:17:17 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 78ms (Views: 74.6ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:17:22 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 74ms (Views: 70.1ms | ActiveRecord: 0.8ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:18:58 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (7.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 95ms (Views: 84.7ms | ActiveRecord: 2.0ms)


Started DELETE "/chatrooms/1/chatroom_users" for ::1 at 2017-03-27 15:19:01 -0500
Processing by ChatroomUsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"rjTh9OUZ6p1WFtqTfeeA1kq6ORbFva83ObXebM5k10ff9/NOVLUQGszeU4E29wF4mBB28plahdswWzXCaGujvg==", "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.2ms)[0m  [1m[34mSELECT "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ?[0m  [["chatroom_id", 1], ["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "chatroom_users" WHERE "chatroom_users"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms
Completed 302 Found in 15ms (ActiveRecord: 2.6ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:19:01 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 59ms (Views: 56.0ms | ActiveRecord: 0.5ms)


Started POST "/chatrooms/2/chatroom_users" for ::1 at 2017-03-27 15:19:09 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"cdwZwcZlEm4DvV/0rD8OxrLrnAgdrzwfWuRg8jjCCAcAHwt7d8no6Zl11ubnL49oYEHT7EFIFvNTCotcns18/g==", "chatroom_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.2ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 2], ["user_id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["created_at", 2017-03-27 20:19:09 UTC], ["updated_at", 2017-03-27 20:19:09 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/2
Completed 302 Found in 12ms (ActiveRecord: 2.7ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:19:09 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 47ms (Views: 44.2ms | ActiveRecord: 0.5ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:19:11 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 66ms (Views: 62.3ms | ActiveRecord: 0.6ms)


Started DELETE "/chatrooms/2/chatroom_users" for ::1 at 2017-03-27 15:19:12 -0500
Processing by ChatroomUsersController#destroy as HTML
  Parameters: {"authenticity_token"=>"fvyyc6mfMjDqcos2Hk2AEj8bylWvmkktkIsRFDCxmNkPP6DJGDPIt3C6AiRVXQG87bGFsfN9Y8GZZfq6lr7sIA==", "chatroom_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.2ms)[0m  [1m[34mSELECT "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ?[0m  [["chatroom_id", 2], ["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "chatroom_users" WHERE "chatroom_users"."id" = ?[0m  [["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:19:12 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 64ms (Views: 58.2ms | ActiveRecord: 0.8ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:30:13 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 55ms (Views: 52.3ms | ActiveRecord: 0.6ms)


Started POST "/chatrooms/1/chatroom_users" for ::1 at 2017-03-27 15:30:15 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"de5pL6zvVgNd8O28glP7GkQ5zW5BeTjijIO9VWzRqbMELXuVHUOshMc4ZK7JQ3q0lpOCih2eEg6FbVb7yt7dSg==", "chatroom_id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.3ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 1], ["user_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 2], ["created_at", 2017-03-27 20:30:15 UTC], ["updated_at", 2017-03-27 20:30:15 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/1
Completed 302 Found in 15ms (ActiveRecord: 3.3ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:30:15 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms)


  
SyntaxError (/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:15: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:17: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/chatrooms/show.html.erb:15: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/chatrooms/show.html.erb:17: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.4ms)
Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:30:47 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 58ms (Views: 53.6ms | ActiveRecord: 0.7ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:38:22 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (157.2ms)
Completed 500 Internal Server Error in 197ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (undefined method `form_form' for #<#<Class:0x007f832d7c95e0>:0x007f832d7c8348>
Did you mean?  form_for):
    13:   <%end%>
    14: </div>
    15: 
    16: <%= form_form [@chatroom, Message.new] do |f| %>
    17:   <%= f.text_area :body, rows: 1 %>
    18:   <%end%>
  
app/views/chatrooms/show.html.erb:16:in `_app_views_chatrooms_show_html_erb___715070329262641629_70100690292640'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (72.1ms)
Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:38:51 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (140.9ms)
Completed 500 Internal Server Error in 204ms (ActiveRecord: 1.3ms)


  
ActionView::Template::Error (undefined method `form_form' for #<#<Class:0x007f9b51d100a8>:0x007f9b4eb1eb80>
Did you mean?  form_for):
    13:   <%end%>
    14: </div>
    15: 
    16: <%= form_form [@chatroom, Message.new] do |f| %>
    17:   <%= f.text_area :body, rows: 1 %>
    18:   <%end%>
  
app/views/chatrooms/show.html.erb:16:in `_app_views_chatrooms_show_html_erb___3585671688600936404_70152534656960'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.3ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (70.4ms)
Started GET "/chatrooms/" for ::1 at 2017-03-27 15:39:44 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 607ms (Views: 573.4ms | ActiveRecord: 1.8ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:39:47 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.7ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (146.9ms)
Completed 500 Internal Server Error in 159ms (ActiveRecord: 0.7ms)


  
ActionView::Template::Error (undefined method `form_form' for #<#<Class:0x007f9b51d100a8>:0x007f9b50c06190>
Did you mean?  form_for):
    13:   <%end%>
    14: </div>
    15: 
    16: <%= form_form [@chatroom, Message.new] do |f| %>
    17:   <%= f.text_area :body, rows: 1 %>
    18:   <%end%>
  
app/views/chatrooms/show.html.erb:16:in `_app_views_chatrooms_show_html_erb___3585671688600936404_70152525723060'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.5ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.3ms)
Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:40:00 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (44.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 115ms (Views: 111.3ms | ActiveRecord: 0.8ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:40:38 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 69ms (Views: 65.3ms | ActiveRecord: 0.7ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:40:45 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 83ms (Views: 80.7ms | ActiveRecord: 0.4ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:41:55 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 106ms (Views: 101.9ms | ActiveRecord: 0.7ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:41:57 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 109ms (Views: 104.1ms | ActiveRecord: 0.7ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:41:58 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (3.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 101ms (Views: 97.4ms | ActiveRecord: 0.7ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:41:59 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (3.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 100ms (Views: 95.8ms | ActiveRecord: 0.8ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:41:59 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 100ms (Views: 96.3ms | ActiveRecord: 0.5ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:42:00 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (3.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 117ms (Views: 110.6ms | ActiveRecord: 0.8ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:42:00 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 100ms (Views: 95.2ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:42:01 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (4.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 104ms (Views: 98.9ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:42:06 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 50ms (Views: 45.3ms | ActiveRecord: 0.5ms)


Started GET "/chatrooms/" for ::1 at 2017-03-27 15:42:09 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (3.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 87ms (Views: 84.2ms | ActiveRecord: 0.8ms)


Started GET "/chatrooms/new" for ::1 at 2017-03-27 15:42:13 -0500
Processing by ChatroomsController#new as HTML
  Rendering chatrooms/new.html.erb within layouts/application
  Rendered chatrooms/_form.html.erb (103.8ms)
  Rendered chatrooms/new.html.erb within layouts/application (105.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 187ms (Views: 146.3ms | ActiveRecord: 0.3ms)


Started GET "/chatrooms" for ::1 at 2017-03-27 15:42:14 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 65ms (Views: 59.1ms | ActiveRecord: 0.5ms)


Started POST "/chatrooms/2/chatroom_users" for ::1 at 2017-03-27 15:42:16 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"w8Al0tzdYgOMMDwjn8vvbht5a8Kyxl3CitMn8TSQHi+yAzdobXGYhBb4tTHU227AydMkJu4hdy6DPcxfkp9q1g==", "chatroom_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.1ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 2], ["user_id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["created_at", 2017-03-27 20:42:16 UTC], ["updated_at", 2017-03-27 20:42:16 UTC]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/2
Completed 302 Found in 27ms (ActiveRecord: 3.0ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:42:16 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 83ms (Views: 78.8ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:42:17 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (7.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 91ms (Views: 78.9ms | ActiveRecord: 0.8ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:42:18 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 97ms (Views: 94.1ms | ActiveRecord: 0.8ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:42:19 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 105ms (Views: 101.4ms | ActiveRecord: 0.7ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:42:19 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 103ms (Views: 99.6ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:42:20 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 109ms (Views: 104.5ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:42:20 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (3.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 108ms (Views: 104.4ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 15:42:21 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 98ms (Views: 94.3ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:42:21 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 96ms (Views: 93.2ms | ActiveRecord: 0.5ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:44:51 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 328ms (Views: 325.0ms | ActiveRecord: 0.4ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:45:15 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 250ms (Views: 246.2ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:45:55 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 135ms (Views: 131.7ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:46:35 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (1.9ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (4.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 78ms (Views: 71.1ms | ActiveRecord: 2.2ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:47:04 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 226ms (Views: 222.2ms | ActiveRecord: 0.4ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:49:06 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 233ms (Views: 227.7ms | ActiveRecord: 0.5ms)


Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 15:49:10 -0500
  
ActionController::RoutingError (uninitialized constant MessagesController):
  
activesupport (5.0.2) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.2) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.2) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.2) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.2) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.2) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.2) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
warden (1.2.6) lib/warden/manager.rb:34:in `catch'
warden (1.2.6) lib/warden/manager.rb:34:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.2) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered collection of /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb [39 times] (13.5ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (18.6ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (120.1ms)
Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 15:53:15 -0500
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Kb0coM/V02//Iei7qtrl5hBpwS6EVKGsJ/JKFy6fnQtYfg4afnkp6GXpYanhymRIwsOOytizi0AuHKG5iJDp8g==", "message"=>{"body"=>"testing"}, "chatroom_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (11.7ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["body", "testing"], ["created_at", 2017-03-27 20:53:15 UTC], ["updated_at", 2017-03-27 20:53:15 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/2
Completed 302 Found in 66ms (ActiveRecord: 15.6ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:53:15 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 88ms (Views: 84.2ms | ActiveRecord: 1.1ms)


Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 15:53:19 -0500
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GXcss8VNwWsS3Fo0212vRcfSexNp8mocXhPrwhSIrfVotD4JdOE77IgU0yaQTS7rFXg09zUVQPBX/QBssofZDA==", "message"=>{"body"=>"testing"}, "chatroom_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["body", "testing"], ["created_at", 2017-03-27 20:53:19 UTC], ["updated_at", 2017-03-27 20:53:19 UTC]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/2
Completed 302 Found in 14ms (ActiveRecord: 3.3ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:53:19 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 70ms (Views: 65.6ms | ActiveRecord: 0.6ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:55:47 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.1ms)


  
SyntaxError (/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:19: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/chatrooms/show.html.erb:17: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/chatrooms/show.html.erb:19: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (73.2ms)
Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:56:03 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.1ms)


  
ActionView::Template::Error (undefined method `message' for #<Chatroom:0x007f9b51c6a2c0>
Did you mean?  messages
               messages=):
     6: </p>
     7: 
     8: <div data-behavior='messages'>
     9: <% @chatroom.message.limit(100).each do |message| %>
    10:   <div><strong> <%= message.user.username %>:</strong> <%= message.body %></div>
    11:   <%end%>
    12: </div>
  
app/views/chatrooms/show.html.erb:9:in `_app_views_chatrooms_show_html_erb___3585671688600936404_70152534282140'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.3ms)
Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:56:17 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (10.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 84ms (Views: 77.5ms | ActiveRecord: 1.3ms)


Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 15:56:22 -0500
Processing by MessagesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fWBK8Q0/e1TSGbZOG0Q1vs691ycEAk9jDUPomtvQMCIMo1hLvJOB00jRP1xQVLQQHBeYw1jlZY8ErQM0fd9E2w==", "message"=>{"body"=>"Does this work?"}, "chatroom_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["body", "Does this work?"], ["created_at", 2017-03-27 20:56:22 UTC], ["updated_at", 2017-03-27 20:56:22 UTC]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/2
Completed 302 Found in 13ms (ActiveRecord: 2.8ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:56:22 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (8.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 64ms (Views: 61.2ms | ActiveRecord: 0.9ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:59:18 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (10.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 82ms (Views: 78.2ms | ActiveRecord: 1.1ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 15:59:30 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.8ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (7.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 79ms (Views: 73.1ms | ActiveRecord: 2.0ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:08:14 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 63ms (ActiveRecord: 1.7ms)


  
SyntaxError (/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:9: syntax error, unexpected keyword_do, expecting keyword_end
'.freeze;   @messages do |message| 
                        ^
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:14: syntax error, unexpected tIDENTIFIER, expecting end-of-input
...[@chatroom, Message.new] remote: true do |f| @output_buffer....
...                               ^):
  
app/views/chatrooms/show.html.erb:9: syntax error, unexpected keyword_do, expecting keyword_end
app/views/chatrooms/show.html.erb:14: syntax error, unexpected tIDENTIFIER, expecting end-of-input
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (69.8ms)
Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:09:01 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (1.8ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms)


  
SyntaxError (/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:14: syntax error, unexpected tIDENTIFIER, expecting keyword_end
...[@chatroom, Message.new] remote: true do |f| @output_buffer....
...                               ^
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/chatrooms/show.html.erb:14: syntax error, unexpected tIDENTIFIER, expecting keyword_end
app/views/chatrooms/show.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.0ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.9ms)
Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:09:09 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (2.1ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.6ms)


  
SyntaxError (/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:14: syntax error, unexpected tIDENTIFIER, expecting keyword_end
...[@chatroom, Message.new] remote: true, do |f| @output_buffer...
...                               ^
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:14: Can't assign to true
...oom, Message.new] remote: true, do |f| @output_buffer.safe_a...
...                               ^
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/views/chatrooms/show.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input):
  
app/views/chatrooms/show.html.erb:14: syntax error, unexpected tIDENTIFIER, expecting keyword_end
app/views/chatrooms/show.html.erb:14: Can't assign to true
app/views/chatrooms/show.html.erb:18: syntax error, unexpected keyword_ensure, expecting end-of-input
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.7ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.6ms)
Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:09:30 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (19.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 211ms (Views: 201.5ms | ActiveRecord: 2.4ms)


Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 16:09:33 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"Yes?"}, "chatroom_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["body", "Yes?"], ["created_at", 2017-03-27 21:09:34 UTC], ["updated_at", 2017-03-27 21:09:34 UTC]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/2
Completed 200 OK in 9ms (ActiveRecord: 2.2ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:09:34 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (10.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 87ms (Views: 77.6ms | ActiveRecord: 1.8ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:13:24 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (26.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 121ms (Views: 92.7ms | ActiveRecord: 3.9ms)


Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 16:13:26 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"gf"}, "chatroom_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["body", "gf"], ["created_at", 2017-03-27 21:13:26 UTC], ["updated_at", 2017-03-27 21:13:26 UTC]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 150ms (ActiveRecord: 2.2ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:14:09 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (9.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 79ms (Views: 73.2ms | ActiveRecord: 1.1ms)


Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 16:14:12 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"jh"}, "chatroom_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["body", "jh"], ["created_at", 2017-03-27 21:14:12 UTC], ["updated_at", 2017-03-27 21:14:12 UTC]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 150ms (ActiveRecord: 1.9ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:14:17 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (11.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 78ms (Views: 69.8ms | ActiveRecord: 1.3ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:19:17 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (65.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 1041ms (Views: 941.1ms | ActiveRecord: 3.2ms)


Started GET "/cable" for ::1 at 2017-03-27 16:19:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:19:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 16:19:30 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "chatroom_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["body", "hi"], ["created_at", 2017-03-27 21:19:30 UTC], ["updated_at", 2017-03-27 21:19:30 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 147ms (ActiveRecord: 2.4ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:21:55 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (42.0ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 180ms (Views: 133.4ms | ActiveRecord: 4.9ms)


Started GET "/cable" for ::1 at 2017-03-27 16:21:55 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:21:55 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2] Could not execute command from {"command"=>"subscribe", "identifier"=>"{\"channel\":\"ChatroomsChannel\"}"}) [NoMethodError - undefined method `chatroom' for #<User:0x007f87b1c0f3d8>
Did you mean?  chatrooms
               chatrooms=]: /usr/local/lib/ruby/gems/2.3.0/gems/activemodel-5.0.2/lib/active_model/attribute_methods.rb:433:in `method_missing' | /Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/chatrooms_channel.rb:3:in `subscribed' | /usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/channel/base.rb:177:in `block in subscribe_to_channel' | /usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call' | /usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:23:09 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered chatrooms/show.html.erb within layouts/application (22.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 152ms (Views: 121.6ms | ActiveRecord: 4.0ms)


Started GET "/cable" for ::1 at 2017-03-27 16:23:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:23:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is streaming from chatroom:1
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 2] ChatroomsChannel is streaming from chatroom:2
Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:32:22 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (11.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (39.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 412ms (Views: 366.4ms | ActiveRecord: 3.9ms)


Started GET "/cable" for ::1 at 2017-03-27 16:32:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:32:23 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is streaming from chatroom:1
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 2] ChatroomsChannel is streaming from chatroom:2
Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 16:32:26 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"f"}, "chatroom_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 2], ["body", "f"], ["created_at", 2017-03-27 21:32:26 UTC], ["updated_at", 2017-03-27 21:32:26 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: 1bff0cff-ff1a-4a50-b4f6-197d718c8d1f) to Async(default) with arguments: #<GlobalID:0x007fb93e5a6ff0 @uri=#<URI::GID gid://chat/Message/8>>
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [1bff0cff-ff1a-4a50-b4f6-197d718c8d1f] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fb9404e46d8 @uri=#<URI::GID gid://chat/Message/8>>
Completed 204 No Content in 313ms (ActiveRecord: 3.6ms)


[ActiveJob] [MessageRelayJob] [1bff0cff-ff1a-4a50-b4f6-197d718c8d1f]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [1bff0cff-ff1a-4a50-b4f6-197d718c8d1f] Performed MessageRelayJob from Async(default) in 104.57ms
Started GET "/chatrooms/2" for ::1 at 2017-03-27 16:32:31 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  Rendered chatrooms/show.html.erb within layouts/application (32.9ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 115ms (Views: 101.6ms | ActiveRecord: 2.3ms)


[ActionCable] [User 2] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:32:31 -0500
[ActionCable] [User 2] ChatroomsChannel stopped streaming from chatroom:1
[ActionCable] [User 2] ChatroomsChannel stopped streaming from chatroom:2
Started GET "/cable" for ::1 at 2017-03-27 16:32:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:32:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is streaming from chatroom:1
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 2] ChatroomsChannel is streaming from chatroom:2
Started GET "/cable" for ::1 at 2017-03-27 16:36:28 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:36:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/cable" for ::1 at 2017-03-27 16:36:57 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:36:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
Started GET "/" for ::1 at 2017-03-27 16:37:16 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (11.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 418ms (Views: 391.5ms | ActiveRecord: 3.0ms)


Started GET "/cable" for ::1 at 2017-03-27 16:37:16 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:37:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
Started GET "/cable" for ::1 at 2017-03-27 16:38:57 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:38:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:38:57 -0500
Started GET "/" for ::1 at 2017-03-27 16:43:43 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (13.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 357ms (Views: 339.9ms | ActiveRecord: 2.6ms)


Started GET "/cable" for ::1 at 2017-03-27 16:43:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:43:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 2] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:43:55 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (11.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 78ms (Views: 58.3ms | ActiveRecord: 2.9ms)


Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:43:58 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hello"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 2], ["body", "hello"], ["created_at", 2017-03-27 21:43:58 UTC], ["updated_at", 2017-03-27 21:43:58 UTC]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: 04de56fd-fd0d-443e-aae2-cc5d17ff0101) to Async(default) with arguments: #<GlobalID:0x007fbcdfd631b8 @uri=#<URI::GID gid://chat/Message/9>>
[ActiveJob] [MessageRelayJob] [04de56fd-fd0d-443e-aae2-cc5d17ff0101] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fbce13efda0 @uri=#<URI::GID gid://chat/Message/9>>
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 194ms (ActiveRecord: 2.3ms)


[ActiveJob] [MessageRelayJob] [04de56fd-fd0d-443e-aae2-cc5d17ff0101]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [04de56fd-fd0d-443e-aae2-cc5d17ff0101] Performed MessageRelayJob from Async(default) in 12.6ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:44:00 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.1ms)
  Rendered chatrooms/show.html.erb within layouts/application (7.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 70ms (Views: 64.9ms | ActiveRecord: 0.9ms)


[ActionCable] [User 2] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:01 -0500
[ActionCable] [User 2] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 2] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-27 16:44:01 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:01 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 2] ChatroomsChannel is streaming from chatrooms:2
Started GET "/" for ::1 at 2017-03-27 16:44:13 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 83ms (Views: 80.2ms | ActiveRecord: 1.4ms)


Started GET "/cable" for ::1 at 2017-03-27 16:44:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 2] ChatroomsChannel is streaming from chatrooms:2
Started DELETE "/users/sign_out" for ::1 at 2017-03-27 16:44:17 -0500
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZxcK3xJpMMSZX91jwZVs0DUQQPvpaC0A/op77gTZwPUW1Bhlo8XKQwOXVHGKhe1+57oPH7WPB+z3ZJBAota0DA=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 20ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-03-27 16:44:17 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 82ms (Views: 75.0ms | ActiveRecord: 0.2ms)


[ActionCable] [User 2] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:17 -0500
[ActionCable] [User 2] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 2] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-27 16:44:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbcdb61b6e8>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:44:20 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  Rendered chatrooms/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 54ms (Views: 50.3ms | ActiveRecord: 0.5ms)


[ActionCable] [User 2] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:20 -0500
[ActionCable] [User 2] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 2] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-27 16:44:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbce1349298>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:24 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:44:24 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbce13a5958>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:27 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:44:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbce10d4cb0>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:33 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:44:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbcdb6ffd20>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:37 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:44:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbce13d55b8>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:40 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:44:40 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:40 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbcdc5ab108>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:46 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:44:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbce100b8d8>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:48 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:44:49 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:49 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbcdfb87df8>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:56 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:57 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:44:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbce1227608>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/cable" for ::1 at 2017-03-27 16:44:58 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:44:58 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
There was an exception - NameError(undefined local variable or method `reject_authorized_connection' for #<ApplicationCable::Connection:0x007fbcdade3ae8>
Did you mean?  reject_unauthorized_connection)
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:16:in `find_verified_user'
/Users/kao/Documents/Sites/GroupChat/groupchat/chat/app/channels/application_cable/connection.rb:6:in `connect'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/base.rb:167:in `handle_open'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:58:in `block in invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:39:in `block in work'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:126:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:506:in `block (2 levels) in compile'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `block in with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `block in tag'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `block in tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:26:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/tagged_logging.rb:69:in `tagged'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/connection/tagged_logger_proxy.rb:22:in `tag'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker/active_record_connection_management.rb:14:in `with_database_connections'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:382:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:448:in `block (2 levels) in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:286:in `block (2 levels) in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:60:in `block (4 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/execution_wrapper.rb:85:in `wrap'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/engine.rb:55:in `block (3 levels) in <class:Engine>'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `instance_exec'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:391:in `block in make_lambda'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:285:in `block in halting'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:447:in `block in around'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:455:in `call'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:101:in `__run_callbacks__'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:750:in `_run_work_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/activesupport-5.0.2/lib/active_support/callbacks.rb:90:in `run_callbacks'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:38:in `work'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:56:in `invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/actioncable-5.0.2/lib/action_cable/server/worker.rb:51:in `block in async_invoke'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:348:in `run_task'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:337:in `block (3 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `loop'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:320:in `block (2 levels) in create_worker'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `catch'
/usr/local/lib/ruby/gems/2.3.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/ruby_thread_pool_executor.rb:319:in `block in create_worker'
Started GET "/" for ::1 at 2017-03-27 16:45:05 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 58ms (Views: 50.5ms | ActiveRecord: 0.9ms)


Started GET "/cable" for ::1 at 2017-03-27 16:45:06 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:06 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:06 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:06 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:45:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:11 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:11 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:45:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:11 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:11 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:45:16 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:16 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:16 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:45:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:19 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:19 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:45:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:20 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:20 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:45:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:21 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:21 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:45:27 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:27 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:27 -0500
Started GET "/users/sign_in" for ::1 at 2017-03-27 16:45:29 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (58.2ms)
Completed 200 OK in 195ms (Views: 173.2ms | ActiveRecord: 3.4ms)


Started POST "/users/sign_in" for ::1 at 2017-03-27 16:45:35 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"iZdFbpKGHn7fogKBEaovEaoGFL2h6O2enK2hEfdVWYDjnb2wsfTs7sf9sYAfdFFmH3vrxsW8TzJpZsvNaBM+Mw==", "user"=>{"email"=>"kaoxyooj@icloud.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "kaoxyooj@icloud.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", 2017-03-27 21:45:36 UTC], ["last_sign_in_at", 2017-03-27 19:48:57 UTC], ["sign_in_count", 3], ["updated_at", 2017-03-27 21:45:36 UTC], ["id", 1]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 286ms (ActiveRecord: 2.6ms)


Started GET "/" for ::1 at 2017-03-27 16:45:36 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (3.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 78ms (Views: 75.1ms | ActiveRecord: 1.0ms)


Started GET "/cable" for ::1 at 2017-03-27 16:45:36 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:36 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:45:39 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.7ms)
  Rendered chatrooms/show.html.erb within layouts/application (8.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 90ms (Views: 62.8ms | ActiveRecord: 2.5ms)


Started GET "/" for ::1 at 2017-03-27 16:45:47 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 57ms (Views: 54.6ms | ActiveRecord: 0.2ms)


Started GET "/cable" for ::1 at 2017-03-27 16:45:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:47 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:47 -0500
Started GET "/users/sign_in" for ::1 at 2017-03-27 16:45:49 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 69ms (Views: 68.0ms | ActiveRecord: 0.0ms)


Started GET "/cable" for ::1 at 2017-03-27 16:45:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:57 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:45:57 -0500
Started GET "/users/sign_up" for ::1 at 2017-03-27 16:46:01 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.4ms)
Completed 200 OK in 98ms (Views: 96.3ms | ActiveRecord: 0.0ms)


Started GET "/cable" for ::1 at 2017-03-27 16:46:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:46:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:46:09 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:46:09 -0500
Started POST "/users" for ::1 at 2017-03-27 16:46:13 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0D8XMJM0vmxRnTbABHylkrBW5h0MeS+fVzVnirqQjI02Ly1lXMMTOhmg2VHTfhLbv8cAndsdXtyN0mnWgNGEiA==", "user"=>{"username"=>"kao", "email"=>"kaokao@kao.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kaokao@kao.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "kaokao@kao.com"], ["encrypted_password", "$2a$11$ocQ79mMFEYSHZxH9vFhhy.NvkVOGWjdxA35QZSynaJ.myORjP5nqK"], ["username", "kao"], ["created_at", 2017-03-27 21:46:13 UTC], ["updated_at", 2017-03-27 21:46:13 UTC]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-03-27 21:46:13 UTC], ["last_sign_in_at", 2017-03-27 21:46:13 UTC], ["current_sign_in_ip", "::1"], ["last_sign_in_ip", "::1"], ["updated_at", 2017-03-27 21:46:13 UTC], ["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 182ms (ActiveRecord: 4.4ms)


Started GET "/" for ::1 at 2017-03-27 16:46:13 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 70ms (Views: 67.3ms | ActiveRecord: 1.1ms)


Started GET "/cable" for ::1 at 2017-03-27 16:46:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:46:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:46:17 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  Rendered chatrooms/show.html.erb within layouts/application (6.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 63ms (Views: 55.9ms | ActiveRecord: 1.2ms)


Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:46:20 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "hi"], ["created_at", 2017-03-27 21:46:20 UTC], ["updated_at", 2017-03-27 21:46:20 UTC]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: c2581c69-7d2f-40aa-b457-341ef9429a37) to Async(default) with arguments: #<GlobalID:0x007fbcdf8c1bc8 @uri=#<URI::GID gid://chat/Message/10>>
[ActiveJob] [MessageRelayJob] [c2581c69-7d2f-40aa-b457-341ef9429a37] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fbcdf893b88 @uri=#<URI::GID gid://chat/Message/10>>
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [c2581c69-7d2f-40aa-b457-341ef9429a37]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 156ms (ActiveRecord: 2.6ms)


[ActiveJob] [MessageRelayJob] [c2581c69-7d2f-40aa-b457-341ef9429a37] Performed MessageRelayJob from Async(default) in 3.89ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:46:22 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered chatrooms/show.html.erb within layouts/application (8.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 68ms (Views: 62.9ms | ActiveRecord: 0.9ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:46:23 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:46:23 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:46:23 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:46:24 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  Rendered chatrooms/show.html.erb within layouts/application (8.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 93ms (Views: 81.8ms | ActiveRecord: 1.2ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:46:24 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:46:24 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:46:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:47:57 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (14.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.3ms)
  Rendered chatrooms/show.html.erb within layouts/application (41.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 277ms (Views: 227.6ms | ActiveRecord: 3.5ms)


Started GET "/cable" for ::1 at 2017-03-27 16:47:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:47:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:48:01 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hellll"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "hellll"], ["created_at", 2017-03-27 21:48:01 UTC], ["updated_at", 2017-03-27 21:48:01 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: 74fea724-9524-4b77-b945-64055c9faec3) to Async(default) with arguments: #<GlobalID:0x007fbce11ee858 @uri=#<URI::GID gid://chat/Message/11>>
[ActiveJob] [MessageRelayJob] [74fea724-9524-4b77-b945-64055c9faec3] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fbcdc513d80 @uri=#<URI::GID gid://chat/Message/11>>
[ActiveJob] [MessageRelayJob] [74fea724-9524-4b77-b945-64055c9faec3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 189ms (ActiveRecord: 2.3ms)


[ActiveJob] [MessageRelayJob] [74fea724-9524-4b77-b945-64055c9faec3]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [74fea724-9524-4b77-b945-64055c9faec3]   Rendered messages/_message.html.erb (2.4ms)
[ActiveJob] [MessageRelayJob] [74fea724-9524-4b77-b945-64055c9faec3] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> hellll</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [74fea724-9524-4b77-b945-64055c9faec3] Performed MessageRelayJob from Async(default) in 46.29ms
Started GET "/cable" for ::1 at 2017-03-27 16:48:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:48:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:48:07 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (13.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 84ms (Views: 78.7ms | ActiveRecord: 1.1ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:48:07 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:48:07 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:48:07 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:50:35 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"testing redis"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "testing redis"], ["created_at", 2017-03-27 21:50:35 UTC], ["updated_at", 2017-03-27 21:50:35 UTC]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: b624437c-2d75-46b5-b4b8-16da05c08ed3) to Async(default) with arguments: #<GlobalID:0x007fbcdb2d3af8 @uri=#<URI::GID gid://chat/Message/12>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [b624437c-2d75-46b5-b4b8-16da05c08ed3] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fbcda62e9b0 @uri=#<URI::GID gid://chat/Message/12>>
Completed 204 No Content in 193ms (ActiveRecord: 3.0ms)


[ActiveJob] [MessageRelayJob] [b624437c-2d75-46b5-b4b8-16da05c08ed3]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [b624437c-2d75-46b5-b4b8-16da05c08ed3]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [b624437c-2d75-46b5-b4b8-16da05c08ed3]   Rendered messages/_message.html.erb (4.7ms)
[ActiveJob] [MessageRelayJob] [b624437c-2d75-46b5-b4b8-16da05c08ed3] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> testing redis</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [b624437c-2d75-46b5-b4b8-16da05c08ed3] Performed MessageRelayJob from Async(default) in 42.46ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:50:44 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  Rendered chatrooms/show.html.erb within layouts/application (12.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 528ms (Views: 479.9ms | ActiveRecord: 1.1ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:50:44 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:50:44 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:50:44 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:50:53 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"me too"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "me too"], ["created_at", 2017-03-27 21:50:53 UTC], ["updated_at", 2017-03-27 21:50:53 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: fb38c423-3cc1-42b2-a2c5-33cdebb5f1d3) to Async(default) with arguments: #<GlobalID:0x007fbcdc5c44f0 @uri=#<URI::GID gid://chat/Message/13>>
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [fb38c423-3cc1-42b2-a2c5-33cdebb5f1d3] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fbcdfdbfeb8 @uri=#<URI::GID gid://chat/Message/13>>
Completed 204 No Content in 153ms (ActiveRecord: 2.1ms)


[ActiveJob] [MessageRelayJob] [fb38c423-3cc1-42b2-a2c5-33cdebb5f1d3]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [fb38c423-3cc1-42b2-a2c5-33cdebb5f1d3]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [fb38c423-3cc1-42b2-a2c5-33cdebb5f1d3]   Rendered messages/_message.html.erb (2.0ms)
[ActiveJob] [MessageRelayJob] [fb38c423-3cc1-42b2-a2c5-33cdebb5f1d3] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> :</strong> me too</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [fb38c423-3cc1-42b2-a2c5-33cdebb5f1d3] Performed MessageRelayJob from Async(default) in 21.24ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:50:57 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered chatrooms/show.html.erb within layouts/application (15.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 76ms (Views: 70.3ms | ActiveRecord: 1.0ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:50:57 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:50:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:50:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:50:59 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (1.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.5ms)
  Rendered chatrooms/show.html.erb within layouts/application (23.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 87ms (Views: 74.4ms | ActiveRecord: 2.2ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:50:59 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:50:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:50:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:51:04 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"tefeef"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "tefeef"], ["created_at", 2017-03-27 21:51:04 UTC], ["updated_at", 2017-03-27 21:51:04 UTC]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: 7e10207f-0977-4690-96ef-3871e9758a76) to Async(default) with arguments: #<GlobalID:0x007fbcdaf85888 @uri=#<URI::GID gid://chat/Message/14>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [7e10207f-0977-4690-96ef-3871e9758a76] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fbcdaecde40 @uri=#<URI::GID gid://chat/Message/14>>
Completed 204 No Content in 144ms (ActiveRecord: 2.0ms)


[ActiveJob] [MessageRelayJob] [7e10207f-0977-4690-96ef-3871e9758a76]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [7e10207f-0977-4690-96ef-3871e9758a76]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [7e10207f-0977-4690-96ef-3871e9758a76]   Rendered messages/_message.html.erb (1.8ms)
[ActiveJob] [MessageRelayJob] [7e10207f-0977-4690-96ef-3871e9758a76] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> tefeef</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [7e10207f-0977-4690-96ef-3871e9758a76] Performed MessageRelayJob from Async(default) in 20.74ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:52:39 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (21.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  Rendered chatrooms/show.html.erb within layouts/application (99.6ms)
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:52:40 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (1.0ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (6.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (11.0ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (56.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 1264ms (Views: 1125.2ms | ActiveRecord: 3.2ms)


Completed 200 OK in 338ms (Views: 323.2ms | ActiveRecord: 2.7ms)


Started GET "/cable" for ::1 at 2017-03-27 16:52:41 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:52:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:52:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:52:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:52:45 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"testestsets"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "testestsets"], ["created_at", 2017-03-27 21:52:45 UTC], ["updated_at", 2017-03-27 21:52:45 UTC]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: 5b3c0e9e-7962-4ad8-8461-1d18a54b0fd2) to Async(default) with arguments: #<GlobalID:0x007f866d7d6c98 @uri=#<URI::GID gid://chat/Message/15>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [5b3c0e9e-7962-4ad8-8461-1d18a54b0fd2] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f866d5ca738 @uri=#<URI::GID gid://chat/Message/15>>
Completed 204 No Content in 263ms (ActiveRecord: 2.8ms)


[ActiveJob] [MessageRelayJob] [5b3c0e9e-7962-4ad8-8461-1d18a54b0fd2]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [5b3c0e9e-7962-4ad8-8461-1d18a54b0fd2]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [5b3c0e9e-7962-4ad8-8461-1d18a54b0fd2]   Rendered messages/_message.html.erb (2.9ms)
[ActiveJob] [MessageRelayJob] [5b3c0e9e-7962-4ad8-8461-1d18a54b0fd2] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> testestsets</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [5b3c0e9e-7962-4ad8-8461-1d18a54b0fd2] Performed MessageRelayJob from Async(default) in 141.8ms
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:52:49 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"lklkl"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "lklkl"], ["created_at", 2017-03-27 21:52:49 UTC], ["updated_at", 2017-03-27 21:52:49 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: 3d48c5d4-e9d2-4b00-a705-0740a30f5e0d) to Async(default) with arguments: #<GlobalID:0x007f8669cdee10 @uri=#<URI::GID gid://chat/Message/16>>
[ActiveJob] [MessageRelayJob] [3d48c5d4-e9d2-4b00-a705-0740a30f5e0d] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f86700421c8 @uri=#<URI::GID gid://chat/Message/16>>
[ActiveJob] [MessageRelayJob] [3d48c5d4-e9d2-4b00-a705-0740a30f5e0d]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 177ms (ActiveRecord: 2.0ms)


[ActiveJob] [MessageRelayJob] [3d48c5d4-e9d2-4b00-a705-0740a30f5e0d]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [3d48c5d4-e9d2-4b00-a705-0740a30f5e0d]   Rendered messages/_message.html.erb (2.8ms)
[ActiveJob] [MessageRelayJob] [3d48c5d4-e9d2-4b00-a705-0740a30f5e0d] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> :</strong> lklkl</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [3d48c5d4-e9d2-4b00-a705-0740a30f5e0d] Performed MessageRelayJob from Async(default) in 68.44ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:01 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  Rendered chatrooms/show.html.erb within layouts/application (24.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 81ms (Views: 76.2ms | ActiveRecord: 1.5ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:01 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:02 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:02 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/users/edit" for ::1 at 2017-03-27 16:54:06 -0500
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (22.3ms)
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 91ms (Views: 83.9ms | ActiveRecord: 0.3ms)


Started PUT "/users" for ::1 at 2017-03-27 16:54:11 -0500
Processing by Devise::RegistrationsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OvbiXvzAik0NQcx5/5OX06Qf2Ldwe6BhOtEE88T1p8HePf3cZ1e1HP/CXQH5FGY7wiZoRBjESeQyI/oqP4GZdQ==", "user"=>{"username"=>"kao", "email"=>"kaokao@kao.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 259ms (ActiveRecord: 0.5ms)


Started GET "/" for ::1 at 2017-03-27 16:54:11 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 81ms (Views: 72.0ms | ActiveRecord: 0.4ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:11 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:13 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered chatrooms/show.html.erb within layouts/application (26.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 83ms (Views: 74.3ms | ActiveRecord: 1.5ms)


Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:54:15 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"ds"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "ds"], ["created_at", 2017-03-27 21:54:15 UTC], ["updated_at", 2017-03-27 21:54:15 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: a981990e-ad9c-47a1-aa8e-20e4973d6bad) to Async(default) with arguments: #<GlobalID:0x007f866d6fb4b8 @uri=#<URI::GID gid://chat/Message/17>>
[ActiveJob] [MessageRelayJob] [a981990e-ad9c-47a1-aa8e-20e4973d6bad] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f8668c4a838 @uri=#<URI::GID gid://chat/Message/17>>
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [a981990e-ad9c-47a1-aa8e-20e4973d6bad]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 150ms (ActiveRecord: 1.9ms)


[ActiveJob] [MessageRelayJob] [a981990e-ad9c-47a1-aa8e-20e4973d6bad]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [a981990e-ad9c-47a1-aa8e-20e4973d6bad]   Rendered messages/_message.html.erb (2.9ms)
[ActiveJob] [MessageRelayJob] [a981990e-ad9c-47a1-aa8e-20e4973d6bad] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> ds</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [a981990e-ad9c-47a1-aa8e-20e4973d6bad] Performed MessageRelayJob from Async(default) in 17.89ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:16 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered chatrooms/show.html.erb within layouts/application (28.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 93ms (Views: 85.8ms | ActiveRecord: 1.3ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:16 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:16 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:16 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:19 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  Rendered chatrooms/show.html.erb within layouts/application (31.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 116ms (Views: 99.8ms | ActiveRecord: 2.5ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:20 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:22 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (6.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  Rendered chatrooms/show.html.erb within layouts/application (34.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 100ms (Views: 91.1ms | ActiveRecord: 1.5ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:22 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (1.7ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:23 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (37.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 114ms (Views: 103.7ms | ActiveRecord: 1.5ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:24 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:24 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:54:31 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"Why is this not working?"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "Why is this not working?"], ["created_at", 2017-03-27 21:54:31 UTC], ["updated_at", 2017-03-27 21:54:31 UTC]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: 8d0c8ab4-53b7-4c0c-8fc2-53528eb7dd43) to Async(default) with arguments: #<GlobalID:0x007f866d082988 @uri=#<URI::GID gid://chat/Message/18>>
[ActiveJob] [MessageRelayJob] [8d0c8ab4-53b7-4c0c-8fc2-53528eb7dd43] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f866bf92308 @uri=#<URI::GID gid://chat/Message/18>>
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [8d0c8ab4-53b7-4c0c-8fc2-53528eb7dd43]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 163ms (ActiveRecord: 1.8ms)


[ActiveJob] [MessageRelayJob] [8d0c8ab4-53b7-4c0c-8fc2-53528eb7dd43]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [8d0c8ab4-53b7-4c0c-8fc2-53528eb7dd43]   Rendered messages/_message.html.erb (2.5ms)
[ActiveJob] [MessageRelayJob] [8d0c8ab4-53b7-4c0c-8fc2-53528eb7dd43] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> :</strong> Why is this not working?</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [8d0c8ab4-53b7-4c0c-8fc2-53528eb7dd43] Performed MessageRelayJob from Async(default) in 18.04ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:33 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  Rendered chatrooms/show.html.erb within layouts/application (30.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 103ms (Views: 96.4ms | ActiveRecord: 1.1ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:34 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:39 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  Rendered chatrooms/show.html.erb within layouts/application (26.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 85ms (Views: 75.5ms | ActiveRecord: 1.7ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:39 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:39 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:39 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/users/edit" for ::1 at 2017-03-27 16:54:42 -0500
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (8.7ms)
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 72ms (Views: 67.5ms | ActiveRecord: 0.4ms)


Started PUT "/users" for ::1 at 2017-03-27 16:54:48 -0500
Processing by Devise::RegistrationsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PYeiK7/4i+Q7hT1RDxBEn0nL+Dv3Xat1wLJBSUsSYRrfpDI1O+1LkTV4sk9/mm7BGR/z9eqARRWAt9lwLuJHhA==", "user"=>{"username"=>"rrrr", "email"=>"kaoxyooj@icloud.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "username" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["username", "rrrr"], ["updated_at", 2017-03-27 21:54:48 UTC], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 167ms (ActiveRecord: 2.7ms)


Started GET "/" for ::1 at 2017-03-27 16:54:48 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 56ms (Views: 54.3ms | ActiveRecord: 0.5ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:48 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:50 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  Rendered chatrooms/show.html.erb within layouts/application (33.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 93ms (Views: 84.2ms | ActiveRecord: 1.8ms)


Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:54:55 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hmmm"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "hmmm"], ["created_at", 2017-03-27 21:54:55 UTC], ["updated_at", 2017-03-27 21:54:55 UTC]]
  [1m[35m (8.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: 9ee17edf-a666-4178-b07c-632b6d2a77e9) to Async(default) with arguments: #<GlobalID:0x007f866fdd2e38 @uri=#<URI::GID gid://chat/Message/19>>
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [9ee17edf-a666-4178-b07c-632b6d2a77e9] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f86704befa8 @uri=#<URI::GID gid://chat/Message/19>>
Completed 204 No Content in 161ms (ActiveRecord: 9.9ms)


[ActiveJob] [MessageRelayJob] [9ee17edf-a666-4178-b07c-632b6d2a77e9]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [9ee17edf-a666-4178-b07c-632b6d2a77e9]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [9ee17edf-a666-4178-b07c-632b6d2a77e9]   Rendered messages/_message.html.erb (1.6ms)
[ActiveJob] [MessageRelayJob] [9ee17edf-a666-4178-b07c-632b6d2a77e9] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> rrrr:</strong> hmmm</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [9ee17edf-a666-4178-b07c-632b6d2a77e9] Performed MessageRelayJob from Async(default) in 16.7ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:54:57 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  Rendered chatrooms/show.html.erb within layouts/application (35.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 88ms (Views: 82.7ms | ActiveRecord: 1.2ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:57 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:54:57 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:54:57 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 16:55:02 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"dsfs"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "dsfs"], ["created_at", 2017-03-27 21:55:02 UTC], ["updated_at", 2017-03-27 21:55:02 UTC]]
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: 1f295d22-4bcf-453a-bf34-062ed804f9a3) to Async(default) with arguments: #<GlobalID:0x007f8670655d80 @uri=#<URI::GID gid://chat/Message/20>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [1f295d22-4bcf-453a-bf34-062ed804f9a3] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f8668f6c3b8 @uri=#<URI::GID gid://chat/Message/20>>
Completed 204 No Content in 157ms (ActiveRecord: 3.7ms)


[ActiveJob] [MessageRelayJob] [1f295d22-4bcf-453a-bf34-062ed804f9a3]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [1f295d22-4bcf-453a-bf34-062ed804f9a3]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [1f295d22-4bcf-453a-bf34-062ed804f9a3]   Rendered messages/_message.html.erb (1.9ms)
[ActiveJob] [MessageRelayJob] [1f295d22-4bcf-453a-bf34-062ed804f9a3] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> dsfs</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [1f295d22-4bcf-453a-bf34-062ed804f9a3] Performed MessageRelayJob from Async(default) in 17.54ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:55:03 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  Rendered chatrooms/show.html.erb within layouts/application (36.4ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 108ms (Views: 98.3ms | ActiveRecord: 2.0ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:55:03 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:55:03 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:55:03 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 16:55:04 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (5.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (61.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 136ms (Views: 127.4ms | ActiveRecord: 1.7ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 16:55:04 -0500
Started GET "/cable" for ::1 at 2017-03-27 16:55:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 16:55:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/cable" for ::1 at 2017-03-27 17:00:15 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:00:15 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/cable" for ::1 at 2017-03-27 17:00:20 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:00:20 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:00:29 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  Rendered chatrooms/show.html.erb within layouts/application (99.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 787ms (Views: 693.9ms | ActiveRecord: 1.8ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:00:30 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:00:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:00:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:00:34 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  Rendered chatrooms/show.html.erb within layouts/application (31.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 143ms (Views: 128.4ms | ActiveRecord: 2.0ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:00:34 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:00:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:00:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 17:00:37 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "hi"], ["created_at", 2017-03-27 22:00:37 UTC], ["updated_at", 2017-03-27 22:00:37 UTC]]
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: f73fd5c8-7a3f-40fa-bc88-747d97db8d00) to Async(default) with arguments: #<GlobalID:0x007fc2ea38e758 @uri=#<URI::GID gid://chat/Message/21>>
No template found for MessagesController#create, rendering head :no_content
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
Completed 204 No Content in 232ms (ActiveRecord: 3.1ms)


[ActiveJob] [MessageRelayJob] [f73fd5c8-7a3f-40fa-bc88-747d97db8d00] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fc2eb01c4c0 @uri=#<URI::GID gid://chat/Message/21>>
[ActiveJob] [MessageRelayJob] [f73fd5c8-7a3f-40fa-bc88-747d97db8d00]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [f73fd5c8-7a3f-40fa-bc88-747d97db8d00]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [f73fd5c8-7a3f-40fa-bc88-747d97db8d00]   Rendered messages/_message.html.erb (2.0ms)
[ActiveJob] [MessageRelayJob] [f73fd5c8-7a3f-40fa-bc88-747d97db8d00] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> hi</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [f73fd5c8-7a3f-40fa-bc88-747d97db8d00] Performed MessageRelayJob from Async(default) in 105.74ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:01:12 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (17.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered chatrooms/show.html.erb within layouts/application (68.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 485ms (Views: 429.6ms | ActiveRecord: 4.1ms)


Started GET "/cable" for ::1 at 2017-03-27 17:01:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:01:13 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.5ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (42.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 155ms (Views: 140.5ms | ActiveRecord: 2.5ms)


Started GET "/cable" for ::1 at 2017-03-27 17:01:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 17:01:19 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"trying"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "trying"], ["created_at", 2017-03-27 22:01:19 UTC], ["updated_at", 2017-03-27 22:01:19 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: d916f357-5d88-4f3e-bc95-7bf893642d71) to Async(default) with arguments: #<GlobalID:0x007feeb6db1670 @uri=#<URI::GID gid://chat/Message/22>>
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [d916f357-5d88-4f3e-bc95-7bf893642d71] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007feeb44dba48 @uri=#<URI::GID gid://chat/Message/22>>
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 190ms (ActiveRecord: 2.2ms)


[ActiveJob] [MessageRelayJob] [d916f357-5d88-4f3e-bc95-7bf893642d71]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [d916f357-5d88-4f3e-bc95-7bf893642d71]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [d916f357-5d88-4f3e-bc95-7bf893642d71]   Rendered messages/_message.html.erb (2.2ms)
[ActiveJob] [MessageRelayJob] [d916f357-5d88-4f3e-bc95-7bf893642d71] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> trying</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [d916f357-5d88-4f3e-bc95-7bf893642d71] Performed MessageRelayJob from Async(default) in 37.28ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:01:20 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (54.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 134ms (Views: 124.9ms | ActiveRecord: 1.4ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:21 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:01:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:01:42 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered chatrooms/show.html.erb within layouts/application (37.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 401ms (Views: 391.7ms | ActiveRecord: 1.9ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:43 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:01:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:01:49 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  Rendered chatrooms/show.html.erb within layouts/application (34.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 115ms (Views: 107.6ms | ActiveRecord: 1.5ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:50 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:01:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 17:01:52 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"fdfd"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "fdfd"], ["created_at", 2017-03-27 22:01:52 UTC], ["updated_at", 2017-03-27 22:01:52 UTC]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: c7461cef-abc1-4959-af6c-ec5da2a3c793) to Async(default) with arguments: #<GlobalID:0x007feeb63ed738 @uri=#<URI::GID gid://chat/Message/23>>
[ActiveJob] [MessageRelayJob] [c7461cef-abc1-4959-af6c-ec5da2a3c793] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007feeb4637b30 @uri=#<URI::GID gid://chat/Message/23>>
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [c7461cef-abc1-4959-af6c-ec5da2a3c793]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 151ms (ActiveRecord: 1.9ms)


[ActiveJob] [MessageRelayJob] [c7461cef-abc1-4959-af6c-ec5da2a3c793]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c7461cef-abc1-4959-af6c-ec5da2a3c793]   Rendered messages/_message.html.erb (2.0ms)
[ActiveJob] [MessageRelayJob] [c7461cef-abc1-4959-af6c-ec5da2a3c793] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> fdfd</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [c7461cef-abc1-4959-af6c-ec5da2a3c793] Performed MessageRelayJob from Async(default) in 16.43ms
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:01:55 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  Rendered chatrooms/show.html.erb within layouts/application (52.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 117ms (Views: 106.6ms | ActiveRecord: 1.6ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:55 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:01:56 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:01:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/users/edit" for ::1 at 2017-03-27 17:05:00 -0500
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (31.9ms)
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 266ms (Views: 246.7ms | ActiveRecord: 1.6ms)


Started GET "/users/edit" for ::1 at 2017-03-27 17:05:00 -0500
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (3.3ms)
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 68ms (Views: 65.6ms | ActiveRecord: 0.3ms)


Started GET "/cable" for ::1 at 2017-03-27 17:05:01 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:01 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/" for ::1 at 2017-03-27 17:05:08 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 72ms (Views: 53.6ms | ActiveRecord: 1.0ms)


Started GET "/cable" for ::1 at 2017-03-27 17:05:09 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:09 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:05:11 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  Rendered chatrooms/show.html.erb within layouts/application (55.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 150ms (Views: 101.2ms | ActiveRecord: 2.2ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:11 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:05:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/chatroom_users" for ::1 at 2017-03-27 17:05:14 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"yV196JxLBYZZiM9qkj+akUZbHgBFDQ1tob4OEEP2KWsmVb5ZAdYat+wTaucWYPYhMks/ZkjeGb2s0BRZaYZFdg==", "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.1ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 1], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["created_at", 2017-03-27 22:05:14 UTC], ["updated_at", 2017-03-27 22:05:14 UTC]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/1
Completed 302 Found in 16ms (ActiveRecord: 3.3ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:05:14 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  Rendered chatrooms/show.html.erb within layouts/application (37.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 86ms (Views: 79.9ms | ActiveRecord: 1.5ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:14 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:05:14 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:14 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 17:05:21 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "hi"], ["created_at", 2017-03-27 22:05:21 UTC], ["updated_at", 2017-03-27 22:05:21 UTC]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: 0db1d39e-703c-4422-ac30-b4515748dc19) to Async(default) with arguments: #<GlobalID:0x007feeb61a8fe0 @uri=#<URI::GID gid://chat/Message/24>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [0db1d39e-703c-4422-ac30-b4515748dc19] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007feeb9648b10 @uri=#<URI::GID gid://chat/Message/24>>
Completed 204 No Content in 187ms (ActiveRecord: 2.2ms)


[ActiveJob] [MessageRelayJob] [0db1d39e-703c-4422-ac30-b4515748dc19]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [0db1d39e-703c-4422-ac30-b4515748dc19]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [0db1d39e-703c-4422-ac30-b4515748dc19]   Rendered messages/_message.html.erb (1.8ms)
[ActiveJob] [MessageRelayJob] [0db1d39e-703c-4422-ac30-b4515748dc19] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> hi</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [0db1d39e-703c-4422-ac30-b4515748dc19] Performed MessageRelayJob from Async(default) in 19.24ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> kao:</strong> hi</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 17:05:25 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "hi"], ["created_at", 2017-03-27 22:05:25 UTC], ["updated_at", 2017-03-27 22:05:25 UTC]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [a1fae90d-8a29-4da2-8420-57369ce2991d] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007feeb96c34f0 @uri=#<URI::GID gid://chat/Message/25>>
[ActiveJob] [MessageRelayJob] [a1fae90d-8a29-4da2-8420-57369ce2991d]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: a1fae90d-8a29-4da2-8420-57369ce2991d) to Async(default) with arguments: #<GlobalID:0x007feeba3ae908 @uri=#<URI::GID gid://chat/Message/25>>
[ActiveJob] [MessageRelayJob] [a1fae90d-8a29-4da2-8420-57369ce2991d]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [a1fae90d-8a29-4da2-8420-57369ce2991d]   Rendered messages/_message.html.erb (142.8ms)
Completed 204 No Content in 171ms (ActiveRecord: 4.2ms)


[ActiveJob] [MessageRelayJob] [a1fae90d-8a29-4da2-8420-57369ce2991d] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> rrrr:</strong> hi</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [a1fae90d-8a29-4da2-8420-57369ce2991d] Performed MessageRelayJob from Async(default) in 159.18ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> hi</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
Started GET "/chatrooms/" for ::1 at 2017-03-27 17:05:31 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 58ms (Views: 54.2ms | ActiveRecord: 0.8ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:31 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:05:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/chatroom_users" for ::1 at 2017-03-27 17:05:34 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"O+rTbQ3Xm0VqMiOLS3VnbPRyxUxKCmY++dN6kE70cEJrWLvPk+tswhHAKP6mv0aGnCACyQ7KuoQjge+N7pZMJA==", "chatroom_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.4ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 1], ["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["created_at", 2017-03-27 22:05:34 UTC], ["updated_at", 2017-03-27 22:05:34 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/1
Completed 302 Found in 21ms (ActiveRecord: 3.5ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:05:34 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered chatrooms/show.html.erb within layouts/application (42.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 94ms (Views: 85.5ms | ActiveRecord: 1.5ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:34 -0500
Started GET "/cable" for ::1 at 2017-03-27 17:05:34 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:05:34 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
Started GET "/chatrooms/" for ::1 at 2017-03-27 17:14:43 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 287ms (Views: 284.1ms | ActiveRecord: 0.6ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:14:43 -0500
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:1
Started GET "/cable" for ::1 at 2017-03-27 17:14:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:14:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
Started GET "/chatrooms/" for ::1 at 2017-03-27 17:14:47 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 79ms (Views: 76.2ms | ActiveRecord: 0.5ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:14:47 -0500
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:1
Started GET "/cable" for ::1 at 2017-03-27 17:14:48 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:14:48 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
Started POST "/chatrooms/2/chatroom_users" for ::1 at 2017-03-27 17:14:50 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"yr4yLGTkjHFPy62IggIYwyImJSDaaRBH0AKkixTAyX4ltvGd+XmTQPpQCAUGXXRzVjYERte6BJfdbL7CPrClYw==", "chatroom_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.2ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 2], ["user_id", 3], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 3], ["created_at", 2017-03-27 22:14:50 UTC], ["updated_at", 2017-03-27 22:14:50 UTC]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/2
Completed 302 Found in 17ms (ActiveRecord: 3.3ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 17:14:50 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  Rendered chatrooms/show.html.erb within layouts/application (26.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 98ms (Views: 92.0ms | ActiveRecord: 1.3ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:14:50 -0500
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:1
Started GET "/cable" for ::1 at 2017-03-27 17:14:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:14:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
Started POST "/chatrooms/2/chatroom_users" for ::1 at 2017-03-27 17:14:51 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"g5jzrpT5q5D95EPI3FB4YOuwjdDJgZtAny+Wx+vxaqfTKpsMCsVcF4YWSL0xmlmKg+JKVY1BR/pFfQPaS5NWwQ==", "chatroom_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.3ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 2], ["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 1], ["created_at", 2017-03-27 22:14:51 UTC], ["updated_at", 2017-03-27 22:14:51 UTC]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/2
Completed 302 Found in 20ms (ActiveRecord: 3.8ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-27 17:14:51 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  Rendered chatrooms/show.html.erb within layouts/application (23.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 74ms (Views: 68.3ms | ActiveRecord: 0.9ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:14:52 -0500
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:1
Started GET "/cable" for ::1 at 2017-03-27 17:14:52 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:14:52 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:14:53 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered chatrooms/show.html.erb within layouts/application (64.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 130ms (Views: 120.3ms | ActiveRecord: 2.1ms)


Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 17:14:58 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hello"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "hello"], ["created_at", 2017-03-27 22:14:58 UTC], ["updated_at", 2017-03-27 22:14:58 UTC]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: dc1047a4-dfdc-4108-b601-9ff09536120f) to Async(default) with arguments: #<GlobalID:0x007feeb40e9d18 @uri=#<URI::GID gid://chat/Message/26>>
[ActiveJob] [MessageRelayJob] [dc1047a4-dfdc-4108-b601-9ff09536120f] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007feeb2251798 @uri=#<URI::GID gid://chat/Message/26>>
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [dc1047a4-dfdc-4108-b601-9ff09536120f]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 204 No Content in 148ms (ActiveRecord: 2.7ms)


[ActiveJob] [MessageRelayJob] [dc1047a4-dfdc-4108-b601-9ff09536120f]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [dc1047a4-dfdc-4108-b601-9ff09536120f]   Rendered messages/_message.html.erb (2.9ms)
[ActiveJob] [MessageRelayJob] [dc1047a4-dfdc-4108-b601-9ff09536120f] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> rrrr:</strong> hello</div>", :chatroom_id=>1}
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> hello</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActiveJob] [MessageRelayJob] [dc1047a4-dfdc-4108-b601-9ff09536120f] Performed MessageRelayJob from Async(default) in 24.6ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> hello</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
Started GET "/chatrooms/2" for ::1 at 2017-03-27 17:16:24 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  Rendered chatrooms/show.html.erb within layouts/application (42.7ms)
Completed 500 Internal Server Error in 418ms (ActiveRecord: 1.0ms)


  
ActionView::Template::Error (SyntaxError: [stdin]:13:110: unmatched OUTDENT):
     5:     <%= csrf_meta_tags %>
     6: 
     7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
     9:   </head>
    10: 
    11:   <body>
  
app/views/layouts/application.html.erb:8:in `_app_views_layouts_application_html_erb___3112147609398722592_70331602961120'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (72.5ms)
[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:16:26 -0500
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/chatrooms/2" for ::1 at 2017-03-27 17:17:05 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered chatrooms/show.html.erb within layouts/application (22.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 273ms (Views: 264.3ms | ActiveRecord: 1.2ms)


Started GET "/cable" for ::1 at 2017-03-27 17:17:05 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:17:05 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:17:11 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered chatrooms/show.html.erb within layouts/application (56.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 138ms (Views: 131.6ms | ActiveRecord: 1.3ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:17:11 -0500
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-27 17:17:11 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:17:11 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 17:17:17 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "hi"], ["created_at", 2017-03-27 22:17:17 UTC], ["updated_at", 2017-03-27 22:17:17 UTC]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: ec8e9131-838b-41a9-a205-f43e4e37e196) to Async(default) with arguments: #<GlobalID:0x007feeb643de68 @uri=#<URI::GID gid://chat/Message/27>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
No template found for MessagesController#create, rendering head :no_content
[ActiveJob] [MessageRelayJob] [ec8e9131-838b-41a9-a205-f43e4e37e196] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007feeb470af30 @uri=#<URI::GID gid://chat/Message/27>>
Completed 204 No Content in 151ms (ActiveRecord: 2.1ms)


[ActiveJob] [MessageRelayJob] [ec8e9131-838b-41a9-a205-f43e4e37e196]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [ec8e9131-838b-41a9-a205-f43e4e37e196]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [ec8e9131-838b-41a9-a205-f43e4e37e196]   Rendered messages/_message.html.erb (4.0ms)
[ActiveJob] [MessageRelayJob] [ec8e9131-838b-41a9-a205-f43e4e37e196] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> rrrr:</strong> hi</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [ec8e9131-838b-41a9-a205-f43e4e37e196] Performed MessageRelayJob from Async(default) in 23.53ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> hi</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> hi</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
Started GET "/cable" for ::1 at 2017-03-27 17:20:27 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:20:27 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/2" for ::1 at 2017-03-27 17:20:28 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (16.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  Rendered chatrooms/show.html.erb within layouts/application (86.2ms)
Started GET "/cable" for ::1 at 2017-03-27 17:20:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:20:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 1007ms (Views: 924.9ms | ActiveRecord: 1.9ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:20:29 -0500
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-27 17:20:29 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:20:29 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-27 17:20:32 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  Rendered chatrooms/show.html.erb within layouts/application (67.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 164ms (Views: 157.5ms | ActiveRecord: 1.5ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-27 17:20:32 -0500
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-27 17:20:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:20:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
Started POST "/chatrooms/1/messages" for ::1 at 2017-03-27 17:20:38 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hello"}, "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "hello"], ["created_at", 2017-03-27 22:20:38 UTC], ["updated_at", 2017-03-27 22:20:38 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued MessageRelayJob (Job ID: 70270aab-f2d0-4b7c-ac0f-23a76eac9158) to Async(default) with arguments: #<GlobalID:0x007f8c4f203838 @uri=#<URI::GID gid://chat/Message/28>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [70270aab-f2d0-4b7c-ac0f-23a76eac9158] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f8c4f18a9d8 @uri=#<URI::GID gid://chat/Message/28>>
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 251ms (ActiveRecord: 2.4ms)


[ActiveJob] [MessageRelayJob] [70270aab-f2d0-4b7c-ac0f-23a76eac9158]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [70270aab-f2d0-4b7c-ac0f-23a76eac9158]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [70270aab-f2d0-4b7c-ac0f-23a76eac9158]   Rendered messages/_message.html.erb (1.7ms)
[ActiveJob] [MessageRelayJob] [70270aab-f2d0-4b7c-ac0f-23a76eac9158] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> rrrr:</strong> hello</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [70270aab-f2d0-4b7c-ac0f-23a76eac9158] Performed MessageRelayJob from Async(default) in 111.14ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> hello</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> hello</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
Started POST "/chatrooms/2/messages" for ::1 at 2017-03-27 17:20:45 -0500
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"âœ“", "message"=>{"body"=>"hi"}, "chatroom_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 3], ["body", "hi"], ["created_at", 2017-03-27 22:20:45 UTC], ["updated_at", 2017-03-27 22:20:45 UTC]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
[ActiveJob] Enqueued MessageRelayJob (Job ID: d5df7175-6285-4d37-ab93-c1c1a74c15e6) to Async(default) with arguments: #<GlobalID:0x007f8c4e0b3b50 @uri=#<URI::GID gid://chat/Message/29>>
[ActiveJob] [MessageRelayJob] [d5df7175-6285-4d37-ab93-c1c1a74c15e6] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f8c4e0a25d0 @uri=#<URI::GID gid://chat/Message/29>>
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 165ms (ActiveRecord: 2.2ms)


[ActiveJob] [MessageRelayJob] [d5df7175-6285-4d37-ab93-c1c1a74c15e6]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [d5df7175-6285-4d37-ab93-c1c1a74c15e6]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [d5df7175-6285-4d37-ab93-c1c1a74c15e6]   Rendered messages/_message.html.erb (1.7ms)
[ActiveJob] [MessageRelayJob] [d5df7175-6285-4d37-ab93-c1c1a74c15e6] [ActionCable] Broadcasting to chatrooms:2: {:message=>"<div><strong> kao:</strong> hi</div>", :chatroom_id=>2}
[ActiveJob] [MessageRelayJob] [d5df7175-6285-4d37-ab93-c1c1a74c15e6] Performed MessageRelayJob from Async(default) in 29.44ms
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> kao:</strong> hi</div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> kao:</strong> hi</div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
Started GET "/cable" for ::1 at 2017-03-27 17:34:15 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-27 17:34:15 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Started GET "/cable" for ::1 at 2017-03-28 09:08:14 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:08:15 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
Started GET "/" for ::1 at 2017-03-28 09:08:18 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (20.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 661ms (Views: 655.5ms | ActiveRecord: 0.5ms)


Started GET "/cable" for ::1 at 2017-03-28 09:08:19 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:08:19 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:08:22 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (5.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.7ms)
  Rendered chatrooms/show.html.erb within layouts/application (131.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 235ms (Views: 195.5ms | ActiveRecord: 3.0ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-28 09:16:05 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (13.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.3ms)
  Rendered chatrooms/show.html.erb within layouts/application (43.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 422ms (Views: 392.6ms | ActiveRecord: 4.4ms)


Started GET "/cable" for ::1 at 2017-03-28 09:16:05 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:16:05 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-28 09:16:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:16:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:16:17 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  Rendered chatrooms/show.html.erb within layouts/application (69.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 135ms (Views: 123.8ms | ActiveRecord: 2.3ms)


[ActionCable] [User 3] ChatroomsChannel#send_message({"chatroom_id"=>1, "message"=>"sup"})
[ActionCable] [User 3] {"chatroom_id"=>1, "message"=>"sup", "action"=>"send_message"}
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:16:29 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  Rendered chatrooms/show.html.erb within layouts/application (56.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 120ms (Views: 111.7ms | ActiveRecord: 2.3ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 09:16:30 -0500
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-28 09:16:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:16:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>1, "message"=>"hi"})
[ActionCable] [User 1] {"chatroom_id"=>1, "message"=>"hi", "action"=>"send_message"}
[ActionCable] [User 3] ChatroomsChannel#send_message({"chatroom_id"=>1, "message"=>"hh"})
[ActionCable] [User 3] {"chatroom_id"=>1, "message"=>"hh", "action"=>"send_message"}
[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>1, "message"=>"jkj"})
[ActionCable] [User 1] {"chatroom_id"=>1, "message"=>"jkj", "action"=>"send_message"}
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:18:42 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (68.7ms)
Completed 500 Internal Server Error in 214ms (ActiveRecord: 1.2ms)


  
ActionView::Template::Error (SyntaxError: [stdin]:15:16: unexpected =):
     5:     <%= csrf_meta_tags %>
     6: 
     7:     <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
     8:     <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
     9:   </head>
    10: 
    11:   <body>
  
app/views/layouts/application.html.erb:8:in `_app_views_layouts_application_html_erb___575250675096724665_70174240484420'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (13.1ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (111.6ms)
[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 09:18:43 -0500
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:18:59 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  Rendered chatrooms/show.html.erb within layouts/application (60.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 287ms (Views: 276.4ms | ActiveRecord: 1.7ms)


Started GET "/cable" for ::1 at 2017-03-28 09:18:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:18:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>1, "message"=>"hdf"})
[ActionCable] [User 1] {"chatroom_id"=>1, "message"=>"hdf", "action"=>"send_message"}
Started GET "/cable" for ::1 at 2017-03-28 09:24:24 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:24:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-28 09:24:28 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:24:28 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:24:45 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  Rendered chatrooms/show.html.erb within layouts/application (70.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 782ms (Views: 733.7ms | ActiveRecord: 2.3ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 09:24:46 -0500
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-28 09:24:46 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:24:46 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:24:47 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (5.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (80.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 197ms (Views: 187.4ms | ActiveRecord: 3.9ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 09:24:47 -0500
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-28 09:24:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:24:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (1.6ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>1, "body"=>"testing websocket"})
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 1]   [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "testing websocket"], ["created_at", 2017-03-28 14:24:53 UTC], ["updated_at", 2017-03-28 14:24:53 UTC]]
[ActionCable] [User 1]   [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [User 1] [ActiveJob] Enqueued MessageRelayJob (Job ID: 11f47acc-46b0-4ea0-be01-7430949d579a) to Async(default) with arguments: #<GlobalID:0x007fc54c4fa498 @uri=#<URI::GID gid://chat/Message/30>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [11f47acc-46b0-4ea0-be01-7430949d579a] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fc549ee3b10 @uri=#<URI::GID gid://chat/Message/30>>
[ActiveJob] [MessageRelayJob] [11f47acc-46b0-4ea0-be01-7430949d579a]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [11f47acc-46b0-4ea0-be01-7430949d579a]   [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [11f47acc-46b0-4ea0-be01-7430949d579a]   Rendered messages/_message.html.erb (3.3ms)
[ActiveJob] [MessageRelayJob] [11f47acc-46b0-4ea0-be01-7430949d579a] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> rrrr:</strong> testing websocket</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [11f47acc-46b0-4ea0-be01-7430949d579a] Performed MessageRelayJob from Async(default) in 88.99ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> testing websocket</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> testing websocket</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 3] ChatroomsChannel#send_message({"chatroom_id"=>1, "body"=>"Is this working?"})
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 3]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 3]   [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 3], ["body", "Is this working?"], ["created_at", 2017-03-28 14:25:00 UTC], ["updated_at", 2017-03-28 14:25:00 UTC]]
[ActionCable] [User 3]   [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
[ActionCable] [User 3] [ActiveJob] Enqueued MessageRelayJob (Job ID: cd36ae32-a511-4143-bd6a-dac29d2fbf0b) to Async(default) with arguments: #<GlobalID:0x007fc54db98088 @uri=#<URI::GID gid://chat/Message/31>>
[ActiveJob] [MessageRelayJob] [cd36ae32-a511-4143-bd6a-dac29d2fbf0b] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fc54f0c9a10 @uri=#<URI::GID gid://chat/Message/31>>
[ActiveJob] [MessageRelayJob] [cd36ae32-a511-4143-bd6a-dac29d2fbf0b]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [cd36ae32-a511-4143-bd6a-dac29d2fbf0b]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [cd36ae32-a511-4143-bd6a-dac29d2fbf0b]   Rendered messages/_message.html.erb (1.9ms)
[ActiveJob] [MessageRelayJob] [cd36ae32-a511-4143-bd6a-dac29d2fbf0b] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> kao:</strong> Is this working?</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [cd36ae32-a511-4143-bd6a-dac29d2fbf0b] Performed MessageRelayJob from Async(default) in 15.32ms
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> kao:</strong> Is this working?</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> kao:</strong> Is this working?</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>1, "body"=>"looksl ike it"})
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 1]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "looksl ike it"], ["created_at", 2017-03-28 14:25:05 UTC], ["updated_at", 2017-03-28 14:25:05 UTC]]
[ActionCable] [User 1]   [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
[ActionCable] [User 1] [ActiveJob] Enqueued MessageRelayJob (Job ID: 96838a23-f3da-4952-9afe-2b01ccffdb13) to Async(default) with arguments: #<GlobalID:0x007fc549eba490 @uri=#<URI::GID gid://chat/Message/32>>
[ActiveJob] [MessageRelayJob] [96838a23-f3da-4952-9afe-2b01ccffdb13] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007fc54c5a4790 @uri=#<URI::GID gid://chat/Message/32>>
[ActiveJob] [MessageRelayJob] [96838a23-f3da-4952-9afe-2b01ccffdb13]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [96838a23-f3da-4952-9afe-2b01ccffdb13]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [96838a23-f3da-4952-9afe-2b01ccffdb13]   Rendered messages/_message.html.erb (1.5ms)
[ActiveJob] [MessageRelayJob] [96838a23-f3da-4952-9afe-2b01ccffdb13] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> rrrr:</strong> looksl ike it</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [96838a23-f3da-4952-9afe-2b01ccffdb13] Performed MessageRelayJob from Async(default) in 14.13ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> looksl ike it</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> looksl ike it</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
Started GET "/cable" for ::1 at 2017-03-28 09:37:07 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:37:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 09:37:08 -0500
Started GET "/cable" for ::1 at 2017-03-28 09:37:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:37:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:37:09 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (108.4ms)
Started GET "/cable" for ::1 at 2017-03-28 09:37:13 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:37:13 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.5ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:37:14 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (5.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (6.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered chatrooms/show.html.erb within layouts/application (176.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 7473ms (Views: 7406.4ms | ActiveRecord: 2.8ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 09:37:17 -0500
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:2
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 3017ms (Views: 3007.0ms | ActiveRecord: 2.0ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 09:37:17 -0500
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-28 09:37:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:37:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-28 09:37:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:37:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.8ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>1, "body"=>"Wachu doing"})
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 1]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "Wachu doing"], ["created_at", 2017-03-28 14:37:20 UTC], ["updated_at", 2017-03-28 14:37:20 UTC]]
[ActionCable] [User 1]   [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [User 1] [ActiveJob] Enqueued MessageRelayJob (Job ID: c72f6043-698a-428d-bfb9-ecb19ae68749) to Async(default) with arguments: #<GlobalID:0x007ff8531d2ba0 @uri=#<URI::GID gid://chat/Message/33>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c72f6043-698a-428d-bfb9-ecb19ae68749] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007ff85325b978 @uri=#<URI::GID gid://chat/Message/33>>
[ActiveJob] [MessageRelayJob] [c72f6043-698a-428d-bfb9-ecb19ae68749]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c72f6043-698a-428d-bfb9-ecb19ae68749]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c72f6043-698a-428d-bfb9-ecb19ae68749]   Rendered messages/_message.html.erb (2.5ms)
[ActiveJob] [MessageRelayJob] [c72f6043-698a-428d-bfb9-ecb19ae68749] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> rrrr:</strong> Wachu doing</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [c72f6043-698a-428d-bfb9-ecb19ae68749] Performed MessageRelayJob from Async(default) in 118.99ms
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> Wachu doing</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> Wachu doing</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
Started GET "/chatrooms/2" for ::1 at 2017-03-28 09:37:32 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (4.4ms)
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.2ms)
  Rendered chatrooms/show.html.erb within layouts/application (38.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 128ms (Views: 116.6ms | ActiveRecord: 1.9ms)


[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>2, "body"=>"I dunno"})
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 1]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 1]   [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 1], ["body", "I dunno"], ["created_at", 2017-03-28 14:37:38 UTC], ["updated_at", 2017-03-28 14:37:38 UTC]]
[ActionCable] [User 1]   [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [User 1] [ActiveJob] Enqueued MessageRelayJob (Job ID: bef4bd58-3f49-45d8-ae94-2e675dabe235) to Async(default) with arguments: #<GlobalID:0x007ff84ec24f18 @uri=#<URI::GID gid://chat/Message/34>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [bef4bd58-3f49-45d8-ae94-2e675dabe235] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007ff85525f710 @uri=#<URI::GID gid://chat/Message/34>>
[ActiveJob] [MessageRelayJob] [bef4bd58-3f49-45d8-ae94-2e675dabe235]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [bef4bd58-3f49-45d8-ae94-2e675dabe235]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [bef4bd58-3f49-45d8-ae94-2e675dabe235]   Rendered messages/_message.html.erb (1.9ms)
[ActiveJob] [MessageRelayJob] [bef4bd58-3f49-45d8-ae94-2e675dabe235] [ActionCable] Broadcasting to chatrooms:2: {:message=>"<div><strong> rrrr:</strong> I dunno</div>", :chatroom_id=>2}
[ActiveJob] [MessageRelayJob] [bef4bd58-3f49-45d8-ae94-2e675dabe235] Performed MessageRelayJob from Async(default) in 14.61ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> I dunno</div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> I dunno</div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
Started GET "/cable" for ::1 at 2017-03-28 09:51:24 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:51:24 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
Started GET "/cable" for ::1 at 2017-03-28 09:51:30 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:51:30 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.6ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/1" for ::1 at 2017-03-28 09:51:31 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  Rendered chatrooms/show.html.erb within layouts/application (72.5ms)
Started GET "/chatrooms/2" for ::1 at 2017-03-28 09:51:35 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.5ms)
  Rendered chatrooms/show.html.erb within layouts/application (61.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 7043ms (Views: 6996.3ms | ActiveRecord: 3.0ms)


[ActionCable] [User 3] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 09:51:38 -0500
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel stopped streaming from chatrooms:2
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 3075ms (Views: 3050.0ms | ActiveRecord: 2.1ms)


Started GET "/chatrooms/2" for ::1 at 2017-03-28 09:51:38 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (9.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.2ms)
[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 09:51:38 -0500
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel stopped streaming from chatrooms:2
Started GET "/cable" for ::1 at 2017-03-28 09:51:38 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:51:38 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.5ms)
[ActionCable] [User 3] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzM)
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 3] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 3] ChatroomsChannel is streaming from chatrooms:2
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (7.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (3.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.6ms)
  Rendered chatrooms/show.html.erb within layouts/application (137.7ms)
Started GET "/cable" for ::1 at 2017-03-28 09:51:38 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 09:51:38 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 257ms (Views: 247.5ms | ActiveRecord: 1.6ms)


[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:2
Started GET "/chatrooms/2" for ::1 at 2017-03-28 09:51:41 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 2], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (0.8ms)
  Rendered chatrooms/show.html.erb within layouts/application (35.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 3]]
Completed 200 OK in 90ms (Views: 81.7ms | ActiveRecord: 1.2ms)


[ActionCable] [User 3] ChatroomsChannel#send_message({"chatroom_id"=>2, "body"=>""})
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 3]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 3]   [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 3], ["body", ""], ["created_at", 2017-03-28 14:51:42 UTC], ["updated_at", 2017-03-28 14:51:42 UTC]]
[ActionCable] [User 3]   [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [User 3] [ActiveJob] Enqueued MessageRelayJob (Job ID: 49501f0f-add9-43db-b724-a750ead00a0b) to Async(default) with arguments: #<GlobalID:0x007faf69de3b70 @uri=#<URI::GID gid://chat/Message/35>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [49501f0f-add9-43db-b724-a750ead00a0b] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007faf69d71390 @uri=#<URI::GID gid://chat/Message/35>>
[ActiveJob] [MessageRelayJob] [49501f0f-add9-43db-b724-a750ead00a0b]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [49501f0f-add9-43db-b724-a750ead00a0b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [49501f0f-add9-43db-b724-a750ead00a0b]   Rendered messages/_message.html.erb (1.6ms)
[ActiveJob] [MessageRelayJob] [49501f0f-add9-43db-b724-a750ead00a0b] [ActionCable] Broadcasting to chatrooms:2: {:message=>"<div><strong> kao:</strong> </div>", :chatroom_id=>2}
[ActiveJob] [MessageRelayJob] [49501f0f-add9-43db-b724-a750ead00a0b] Performed MessageRelayJob from Async(default) in 23.81ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> kao:</strong> </div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> kao:</strong> </div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
[ActionCable] [User 3] ChatroomsChannel#send_message({"chatroom_id"=>2, "body"=>"This is the random chatroom"})
[ActionCable] [User 3]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 3]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 3]   [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 3], ["body", "This is the random chatroom"], ["created_at", 2017-03-28 14:51:49 UTC], ["updated_at", 2017-03-28 14:51:49 UTC]]
[ActionCable] [User 3]   [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
[ActionCable] [User 3] [ActiveJob] Enqueued MessageRelayJob (Job ID: ddcd9502-2336-4ae5-984b-d94b556e2692) to Async(default) with arguments: #<GlobalID:0x007faf6aa6a218 @uri=#<URI::GID gid://chat/Message/36>>
[ActiveJob] [MessageRelayJob] [ddcd9502-2336-4ae5-984b-d94b556e2692] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007faf654a9478 @uri=#<URI::GID gid://chat/Message/36>>
[ActiveJob] [MessageRelayJob] [ddcd9502-2336-4ae5-984b-d94b556e2692]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [ddcd9502-2336-4ae5-984b-d94b556e2692]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [ddcd9502-2336-4ae5-984b-d94b556e2692]   Rendered messages/_message.html.erb (1.6ms)
[ActiveJob] [MessageRelayJob] [ddcd9502-2336-4ae5-984b-d94b556e2692] [ActionCable] Broadcasting to chatrooms:2: {:message=>"<div><strong> kao:</strong> This is the random chatroom</div>", :chatroom_id=>2}
[ActiveJob] [MessageRelayJob] [ddcd9502-2336-4ae5-984b-d94b556e2692] Performed MessageRelayJob from Async(default) in 14.92ms
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> kao:</strong> This is the random chatroom</div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> kao:</strong> This is the random chatroom</div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>2, "body"=>"SI"})
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 1]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 1]   [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 2], ["user_id", 1], ["body", "SI"], ["created_at", 2017-03-28 14:51:53 UTC], ["updated_at", 2017-03-28 14:51:53 UTC]]
[ActionCable] [User 1]   [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
[ActionCable] [User 1] [ActiveJob] Enqueued MessageRelayJob (Job ID: bdb059ac-17f5-4249-aadf-2818be920ac8) to Async(default) with arguments: #<GlobalID:0x007faf65482a58 @uri=#<URI::GID gid://chat/Message/37>>
[ActiveJob] [MessageRelayJob] [bdb059ac-17f5-4249-aadf-2818be920ac8] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007faf65471ca8 @uri=#<URI::GID gid://chat/Message/37>>
[ActiveJob] [MessageRelayJob] [bdb059ac-17f5-4249-aadf-2818be920ac8]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [bdb059ac-17f5-4249-aadf-2818be920ac8]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [bdb059ac-17f5-4249-aadf-2818be920ac8]   Rendered messages/_message.html.erb (1.9ms)
[ActiveJob] [MessageRelayJob] [bdb059ac-17f5-4249-aadf-2818be920ac8] [ActionCable] Broadcasting to chatrooms:2: {:message=>"<div><strong> rrrr:</strong> SI</div>", :chatroom_id=>2}
[ActiveJob] [MessageRelayJob] [bdb059ac-17f5-4249-aadf-2818be920ac8] Performed MessageRelayJob from Async(default) in 14.92ms
[ActionCable] [User 3] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> SI</div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> rrrr:</strong> SI</div>", "chatroom_id"=>2} (via streamed from chatrooms:2)
Started GET "/cable" for ::1 at 2017-03-28 10:34:59 -0500
  
PG::ConnectionBad (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?
):
  
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `initialize'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `new'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `connect'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.2) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.2) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.2) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.2) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.9ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (92.6ms)
Started GET "/" for ::1 at 2017-03-28 10:35:12 -0500
  
PG::ConnectionBad (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?
):
  
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `initialize'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `new'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `connect'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.2) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.2) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.2) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.2) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.2ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (70.3ms)
Started GET "/cable" for ::1 at 2017-03-28 10:35:26 -0500
  
PG::ConnectionBad (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?
):
  
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `initialize'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `new'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:671:in `connect'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:217:in `initialize'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `new'
activerecord (5.0.2) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.2) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.2) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.2) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.2) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.5ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (68.0ms)
Started GET "/" for ::1 at 2017-03-28 10:37:55 -0500
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.2) lib/active_record/migration.rb:573:in `check_pending!'
activerecord (5.0.2) lib/active_record/migration.rb:549:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (1.8ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (80.8ms)
Started GET "/cable" for ::1 at 2017-03-28 10:37:57 -0500
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.2) lib/active_record/migration.rb:573:in `check_pending!'
activerecord (5.0.2) lib/active_record/migration.rb:549:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.2) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.2) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.2) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.2) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.4.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.4.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `catch'
web-console (3.4.0) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.2) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.2) lib/rails/engine.rb:522:in `call'
puma (3.8.2) lib/puma/configuration.rb:224:in `call'
puma (3.8.2) lib/puma/server.rb:600:in `handle_request'
puma (3.8.2) lib/puma/server.rb:435:in `process_client'
puma (3.8.2) lib/puma/server.rb:299:in `block in run'
puma (3.8.2) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.6ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendering /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /usr/local/lib/ruby/gems/2.3.0/gems/actionpack-5.0.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (62.3ms)
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20170327192910)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "username" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170327192910"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateChatrooms (20170327193006)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "chatrooms" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170327193006"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateChatroomUsers (20170327193048)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "chatroom_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "chatroom_id" integer, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_chatroom_users_on_chatroom_id" ON "chatroom_users" ("chatroom_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chatroom_users_on_chatroom_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chatroom_users_on_chatroom_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_chatroom_users_on_user_id" ON "chatroom_users" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170327193048"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateMessages (20170327193312)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "chatroom_id" integer, "user_id" integer, "body" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_chatroom_id" ON "messages" ("chatroom_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_chatroom_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_chatroom_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170327193312"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-03-28 15:38:13 UTC], ["updated_at", 2017-03-28 15:38:13 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chatroom_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chatroom_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chatroom_users_on_chatroom_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chatroom_users_on_chatroom_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_chatroom_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_chatroom_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-03-28 10:38:21 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (6.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 623ms (Views: 575.8ms | ActiveRecord: 2.2ms)


Started GET "/cable" for ::1 at 2017-03-28 10:38:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:22 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:22 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:38:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:22 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:22 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:38:31 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:31 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:31 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:31 -0500
Started GET "/" for ::1 at 2017-03-28 10:38:32 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (3.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 168ms (Views: 165.4ms | ActiveRecord: 0.4ms)


Started GET "/cable" for ::1 at 2017-03-28 10:38:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:32 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:32 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:38:42 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:42 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:42 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:42 -0500
Started GET "/users/sign_in" for ::1 at 2017-03-28 10:38:43 -0500
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
Started GET "/cable" for ::1 at 2017-03-28 10:38:43 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:43 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:43 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:43 -0500
  Rendered devise/shared/_links.html.erb (1.5ms)
  Rendered devise/sessions/new.html.erb within layouts/application (163.6ms)
Completed 200 OK in 283ms (Views: 258.1ms | ActiveRecord: 0.0ms)


Started GET "/cable" for ::1 at 2017-03-28 10:38:47 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:47 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:47 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:47 -0500
Started POST "/users/sign_in" for ::1 at 2017-03-28 10:38:49 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"301IOMJdL58da5wgK0HPfPSCm1Ia7WJ1tCgCcsE7/QLo1OdvATxMJRX3+Tx3i3NH+N8jZGnL7TSeIk6/KhwIPA==", "user"=>{"email"=>"kaokao@kao.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (6.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "kaokao@kao.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 28ms (ActiveRecord: 6.6ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"301IOMJdL58da5wgK0HPfPSCm1Ia7WJ1tCgCcsE7/QLo1OdvATxMJRX3+Tx3i3NH+N8jZGnL7TSeIk6/KhwIPA==", "user"=>{"email"=>"kaokao@kao.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 262ms (Views: 67.9ms | ActiveRecord: 0.0ms)


Started GET "/cable" for ::1 at 2017-03-28 10:38:50 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:50 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:50 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:50 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:38:51 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:51 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:51 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:51 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:38:59 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:59 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:59 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:38:59 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:39:00 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:00 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:00 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:00 -0500
Started POST "/users/sign_in" for ::1 at 2017-03-28 10:39:07 -0500
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VgeQ+cXUUVm91m41W+uN2zMcrck4/AaNmjqarrc6ORm5D1NIWElOaAhNy7jftOFrRwyMrzUvEl2XVIDnnUpVBA==", "user"=>{"email"=>"kaoxyooj@icloud.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (10.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "kaoxyooj@icloud.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 12ms (ActiveRecord: 10.1ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VgeQ+cXUUVm91m41W+uN2zMcrck4/AaNmjqarrc6ORm5D1NIWElOaAhNy7jftOFrRwyMrzUvEl2XVIDnnUpVBA==", "user"=>{"email"=>"kaoxyooj@icloud.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (2.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 550ms (Views: 408.0ms | ActiveRecord: 0.0ms)


Started GET "/cable" for ::1 at 2017-03-28 10:39:08 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:08 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:08 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:08 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:39:10 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:10 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:10 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:10 -0500
Started GET "/users/sign_up" for ::1 at 2017-03-28 10:39:11 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/registrations/new.html.erb within layouts/application (8.1ms)
Completed 200 OK in 96ms (Views: 94.8ms | ActiveRecord: 0.0ms)


Started GET "/cable" for ::1 at 2017-03-28 10:39:12 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:12 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:12 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:12 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:39:17 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:17 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:17 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:17 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:39:21 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:21 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:21 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:21 -0500
Started POST "/users" for ::1 at 2017-03-28 10:39:22 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"p2i0JiIKe96UyglBqeehpHy+yrd1+maFEiASP/TKjqFBeI5z7f3WiNz35tB+5Rbtcy8sN6KeF8bIxxxjzouGpA==", "user"=>{"username"=>"qq", "email"=>"kao@kao.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kao@kao.com"], ["LIMIT", 1]]
  [1m[35mSQL (13.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "kao@kao.com"], ["encrypted_password", "$2a$11$xGYXqWyPxz9qkb7q3QFr6.m.rdtd2bxgqdbOw6TFS89KU6eLmWLwS"], ["username", "qq"], ["created_at", 2017-03-28 15:39:22 UTC], ["updated_at", 2017-03-28 15:39:22 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-03-28 15:39:22 UTC], ["last_sign_in_at", 2017-03-28 15:39:22 UTC], ["current_sign_in_ip", "::1"], ["last_sign_in_ip", "::1"], ["updated_at", 2017-03-28 15:39:22 UTC], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 238ms (ActiveRecord: 17.4ms)


Started GET "/" for ::1 at 2017-03-28 10:39:22 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 126ms (Views: 107.4ms | ActiveRecord: 1.6ms)


Started GET "/cable" for ::1 at 2017-03-28 10:39:22 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:22 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/users/sign_up" for ::1 at 2017-03-28 10:39:26 -0500
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (0.9ms)
  Rendered devise/registrations/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 71ms (Views: 69.1ms | ActiveRecord: 0.0ms)


Started GET "/cable" for ::1 at 2017-03-28 10:39:32 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:32 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Failed to upgrade to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:32 -0500
Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:32 -0500
Started POST "/users" for ::1 at 2017-03-28 10:39:35 -0500
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hM0iZ7VH/GBJVvVvJX0lSchyEsWSn4tt6tTwe4U4YekwKCQOgwDSHP17HSHzw3XLFq+bQf7HRChMwlyvJUWgUg==", "user"=>{"username"=>"ww", "email"=>"kaoxyooj@icloud.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kaoxyooj@icloud.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "kaoxyooj@icloud.com"], ["encrypted_password", "$2a$11$YFFNyAKrFi3uaIrhDhmiluklcIEDYfBSpnJQRgYKhYTcHIf.cwbvy"], ["username", "ww"], ["created_at", 2017-03-28 15:39:35 UTC], ["updated_at", 2017-03-28 15:39:35 UTC]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-03-28 15:39:35 UTC], ["last_sign_in_at", 2017-03-28 15:39:35 UTC], ["current_sign_in_ip", "::1"], ["last_sign_in_ip", "::1"], ["updated_at", 2017-03-28 15:39:35 UTC], ["id", 2]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 165ms (ActiveRecord: 4.3ms)


Started GET "/" for ::1 at 2017-03-28 10:39:35 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 60ms (Views: 55.5ms | ActiveRecord: 0.6ms)


Started GET "/cable" for ::1 at 2017-03-28 10:39:35 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:35 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
Started GET "/chatrooms/new" for ::1 at 2017-03-28 10:39:36 -0500
Processing by ChatroomsController#new as HTML
  Rendering chatrooms/new.html.erb within layouts/application
  Rendered chatrooms/_form.html.erb (3.2ms)
  Rendered chatrooms/new.html.erb within layouts/application (32.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 143ms (Views: 96.3ms | ActiveRecord: 0.5ms)


Started GET "/cable" for ::1 at 2017-03-28 10:39:37 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:37 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms" for ::1 at 2017-03-28 10:39:41 -0500
Processing by ChatroomsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"e+9iT4/sapUaSF50HsyhF9PJ+t+x7ALLik5GfQJo5wMddpRqPbQfqy2brc/Y6+HsIHn30d0vPhEaVng8YUHjIg==", "chatroom"=>{"name"=>"Kao's Room"}, "commit"=>"Create Chatroom"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "chatrooms" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Kao's Room"], ["created_at", 2017-03-28 15:39:41 UTC], ["updated_at", 2017-03-28 15:39:41 UTC]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/1
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-28 10:39:41 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (43.9ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  Rendered chatrooms/show.html.erb within layouts/application (12.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 166ms (Views: 62.5ms | ActiveRecord: 45.1ms)


[ActionCable] [User 2] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:41 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:39:41 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:41 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 2] ChatroomsChannel#send_message({"chatroom_id"=>1, "body"=>"Hi"})
[ActionCable] [User 2]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 2]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 2]   [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 2], ["body", "Hi"], ["created_at", 2017-03-28 15:39:49 UTC], ["updated_at", 2017-03-28 15:39:49 UTC]]
[ActionCable] [User 2]   [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [User 2] [ActiveJob] Enqueued MessageRelayJob (Job ID: c155c741-2cbd-48ea-98db-c4f2e475b083) to Async(default) with arguments: #<GlobalID:0x007f9ea27ab118 @uri=#<URI::GID gid://chat/Message/1>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c155c741-2cbd-48ea-98db-c4f2e475b083] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f9ea27422a8 @uri=#<URI::GID gid://chat/Message/1>>
[ActiveJob] [MessageRelayJob] [c155c741-2cbd-48ea-98db-c4f2e475b083]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c155c741-2cbd-48ea-98db-c4f2e475b083]   [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c155c741-2cbd-48ea-98db-c4f2e475b083]   Rendered messages/_message.html.erb (2.7ms)
[ActiveJob] [MessageRelayJob] [c155c741-2cbd-48ea-98db-c4f2e475b083] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> ww:</strong> Hi</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [c155c741-2cbd-48ea-98db-c4f2e475b083] Performed MessageRelayJob from Async(default) in 21.96ms
Started GET "/chatrooms/" for ::1 at 2017-03-28 10:39:54 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (2.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 51ms (Views: 48.4ms | ActiveRecord: 0.5ms)


[ActionCable] [User 2] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:54 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:39:54 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:54 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/chatroom_users" for ::1 at 2017-03-28 10:39:56 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"hKvoTenOqdJ3fYV2M1IzSNct3GSFExTXeeYdP9h/HA/UGYDvd/JeVQyPjgPemBKiv38b4cHTyG2jtIgieB0gaQ==", "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.1ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 1], ["user_id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (13.6ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 2], ["created_at", 2017-03-28 15:39:56 UTC], ["updated_at", 2017-03-28 15:39:56 UTC]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/1
Completed 302 Found in 28ms (ActiveRecord: 15.5ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-28 10:39:56 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (5.4ms)
  Rendered chatrooms/show.html.erb within layouts/application (9.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
Completed 200 OK in 72ms (Views: 66.6ms | ActiveRecord: 1.5ms)


[ActionCable] [User 2] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:56 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:39:56 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:39:56 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActionCable] [User 2] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzI)
[ActionCable] [User 2]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 2]]
[ActionCable] [User 2] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 2] ChatroomsChannel is streaming from chatrooms:1
Started GET "/chatrooms/" for ::1 at 2017-03-28 10:40:02 -0500
Processing by ChatroomsController#index as HTML
  Rendering chatrooms/index.html.erb within layouts/application
  [1m[36mChatroom Load (0.4ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms"[0m
  Rendered chatrooms/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.3ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 52ms (Views: 49.5ms | ActiveRecord: 0.8ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:40:03 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:40:03 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:40:03 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
Started POST "/chatrooms/1/chatroom_users" for ::1 at 2017-03-28 10:40:04 -0500
Processing by ChatroomUsersController#create as HTML
  Parameters: {"authenticity_token"=>"4YwSjAAFz5C/azXPBpnq5Hr/6xNzGhl+aM9SQyZeElQOhNE9nZjQoQrwkEKCxoZUDu/KdX7JDa5loUgKDC5+SQ==", "chatroom_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroomUser Load (0.2ms)[0m  [1m[34mSELECT  "chatroom_users".* FROM "chatroom_users" WHERE "chatroom_users"."chatroom_id" = ? AND "chatroom_users"."user_id" = ? ORDER BY "chatroom_users"."id" ASC LIMIT ?[0m  [["chatroom_id", 1], ["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "chatroom_users" ("chatroom_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["created_at", 2017-03-28 15:40:04 UTC], ["updated_at", 2017-03-28 15:40:04 UTC]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/chatrooms/1
Completed 302 Found in 12ms (ActiveRecord: 2.7ms)


Started GET "/chatrooms/1" for ::1 at 2017-03-28 10:40:04 -0500
Processing by ChatroomsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."chatroom_id" = ? ORDER BY "messages"."created_at" DESC LIMIT ?[0m  [["chatroom_id", 1], ["LIMIT", 100]]
  Rendering chatrooms/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered messages/_message.html.erb (2.1ms)
  Rendered chatrooms/show.html.erb within layouts/application (5.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChatroom Load (3.2ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 86ms (Views: 72.3ms | ActiveRecord: 4.4ms)


[ActionCable] [User 1] Finished "/cable/" [WebSocket] for ::1 at 2017-03-28 10:40:04 -0500
Started GET "/cable" for ::1 at 2017-03-28 10:40:04 -0500
Started GET "/cable/" [WebSocket] for ::1 at 2017-03-28 10:40:04 -0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1] Registered connection (Z2lkOi8vY2hhdC9Vc2VyLzE)
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT "chatrooms".* FROM "chatrooms" INNER JOIN "chatroom_users" ON "chatrooms"."id" = "chatroom_users"."chatroom_id" WHERE "chatroom_users"."user_id" = ?[0m  [["user_id", 1]]
[ActionCable] [User 1] ChatroomsChannel is transmitting the subscription confirmation
[ActionCable] [User 1] ChatroomsChannel is streaming from chatrooms:1
[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>1, "body"=>"hello"})
[ActionCable] [User 1]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 1]   [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "hello"], ["created_at", 2017-03-28 15:40:07 UTC], ["updated_at", 2017-03-28 15:40:07 UTC]]
[ActionCable] [User 1]   [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
[ActionCable] [User 1] [ActiveJob] Enqueued MessageRelayJob (Job ID: c6df33da-3fea-4775-91f7-5d23fc51ade2) to Async(default) with arguments: #<GlobalID:0x007f9e9f4d2c50 @uri=#<URI::GID gid://chat/Message/2>>
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c6df33da-3fea-4775-91f7-5d23fc51ade2] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f9ea2289720 @uri=#<URI::GID gid://chat/Message/2>>
[ActiveJob] [MessageRelayJob] [c6df33da-3fea-4775-91f7-5d23fc51ade2]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c6df33da-3fea-4775-91f7-5d23fc51ade2]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [c6df33da-3fea-4775-91f7-5d23fc51ade2]   Rendered messages/_message.html.erb (2.0ms)
[ActiveJob] [MessageRelayJob] [c6df33da-3fea-4775-91f7-5d23fc51ade2] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> qq:</strong> hello</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [c6df33da-3fea-4775-91f7-5d23fc51ade2] Performed MessageRelayJob from Async(default) in 24.57ms
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> qq:</strong> hello</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 2] ChatroomsChannel transmitting {"message"=>"<div><strong> qq:</strong> hello</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 2] ChatroomsChannel#send_message({"chatroom_id"=>1, "body"=>"testing"})
[ActionCable] [User 2]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 2]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 2]   [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 2], ["body", "testing"], ["created_at", 2017-03-28 15:40:11 UTC], ["updated_at", 2017-03-28 15:40:11 UTC]]
[ActionCable] [User 2]   [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActionCable] [User 2] [ActiveJob] Enqueued MessageRelayJob (Job ID: 41c41f65-4ddd-4623-a0f2-6e972e0bc11b) to Async(default) with arguments: #<GlobalID:0x007f9ea2022810 @uri=#<URI::GID gid://chat/Message/3>>
[ActiveJob] [MessageRelayJob] [41c41f65-4ddd-4623-a0f2-6e972e0bc11b] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f9e9efbbd20 @uri=#<URI::GID gid://chat/Message/3>>
[ActiveJob] [MessageRelayJob] [41c41f65-4ddd-4623-a0f2-6e972e0bc11b]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [41c41f65-4ddd-4623-a0f2-6e972e0bc11b]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [41c41f65-4ddd-4623-a0f2-6e972e0bc11b]   Rendered messages/_message.html.erb (1.8ms)
[ActiveJob] [MessageRelayJob] [41c41f65-4ddd-4623-a0f2-6e972e0bc11b] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> ww:</strong> testing</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [41c41f65-4ddd-4623-a0f2-6e972e0bc11b] Performed MessageRelayJob from Async(default) in 15.66ms
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> ww:</strong> testing</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 2] ChatroomsChannel transmitting {"message"=>"<div><strong> ww:</strong> testing</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 1] ChatroomsChannel#send_message({"chatroom_id"=>1, "body"=>"Hello World"})
[ActionCable] [User 1]   [1m[36mChatroom Load (0.2ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActionCable] [User 1]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActionCable] [User 1]   [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "messages" ("chatroom_id", "user_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["chatroom_id", 1], ["user_id", 1], ["body", "Hello World"], ["created_at", 2017-03-28 15:40:17 UTC], ["updated_at", 2017-03-28 15:40:17 UTC]]
[ActionCable] [User 1]   [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT  "messages".* FROM "messages" WHERE "messages"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActionCable] [User 1] [ActiveJob] Enqueued MessageRelayJob (Job ID: 75ea9c7d-bc76-4e07-b4b3-0242f7b5c536) to Async(default) with arguments: #<GlobalID:0x007f9e9eddbb90 @uri=#<URI::GID gid://chat/Message/4>>
[ActiveJob] [MessageRelayJob] [75ea9c7d-bc76-4e07-b4b3-0242f7b5c536] Performing MessageRelayJob from Async(default) with arguments: #<GlobalID:0x007f9e9ed9b1f8 @uri=#<URI::GID gid://chat/Message/4>>
[ActiveJob] [MessageRelayJob] [75ea9c7d-bc76-4e07-b4b3-0242f7b5c536]   [1m[36mChatroom Load (0.1ms)[0m  [1m[34mSELECT  "chatrooms".* FROM "chatrooms" WHERE "chatrooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [75ea9c7d-bc76-4e07-b4b3-0242f7b5c536]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [MessageRelayJob] [75ea9c7d-bc76-4e07-b4b3-0242f7b5c536]   Rendered messages/_message.html.erb (2.2ms)
[ActiveJob] [MessageRelayJob] [75ea9c7d-bc76-4e07-b4b3-0242f7b5c536] [ActionCable] Broadcasting to chatrooms:1: {:message=>"<div><strong> qq:</strong> Hello World</div>", :chatroom_id=>1}
[ActiveJob] [MessageRelayJob] [75ea9c7d-bc76-4e07-b4b3-0242f7b5c536] Performed MessageRelayJob from Async(default) in 15.57ms
[ActionCable] [User 2] ChatroomsChannel transmitting {"message"=>"<div><strong> qq:</strong> Hello World</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
[ActionCable] [User 1] ChatroomsChannel transmitting {"message"=>"<div><strong> qq:</strong> Hello World</div>", "chatroom_id"=>1} (via streamed from chatrooms:1)
